# -*- cg-pre-pipe: "./modes/glegram-dev6-cg.mode" -*-
# Divvun & Giellatekno - open source grammars for Sámi and other languages
# Copyright © 2000-2025 UiT The Arctic University of Norway
# http://giellatekno.uit.no & http://divvun.no
#
# This program is free software; you can redistribute and/or modify
# this file under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version. The GNU General Public License
# is found at http://www.gnu.org/licenses/gpl.html. It is
# also available in the file $GTHOME/LICENSE.txt.
#
# Other licensing options are available upon request, please contact
# giellatekno@uit.no or divvun@uit.no

# ==================================================================== #
#!! #      I R I S H  G R A M M A R   C H E C K E R
# ==================================================================== #
# ====================================================================

#  Sámi language technology 2000-2025, UiT The Arctic University of Norway #

# ---------------------- #
#   Development setup:   #
# ---------------------- #
#
# cd $GTLANGS/lang-gle
# ./autogen.sh
# ./configure --enable-grammarchecker --enable-tokenisers --enable-alignment --enable-reversed-intersect
# make
# cd tools/grammarcheckers
# make dev
#
# ---------------------- #
#   Then edit/test as:   #
# ---------------------- #
#
# emacs grammarchecker.cg3  # and C-c C-i / C-c C-c if you have cg-mode installed
# echo "Bhí dúchan na mbóithre de dhaoine ann" | tools/grammarcheckers/modes/trace-glegram.mode | less

#
# ---------------------- #
#   Other debug-pipes:   #
# ---------------------- #
#
# ls modes/
#
# ---------------------- #


      # =========================================== #
      #      Short table of contents                #
      # =========================================== #

      # Delimiters
      # Tags and sets
      # Grammar checking rules

# =============== #
#!! ## DELIMITERS
# =============== #

DELIMITERS = "<.>" "<!>" "<?>" "<...>" "<¶>" sent ; #!!= * @CODE@

# ================== #
#!! ## TAGS AND SETS
# ================== #

SETS


#!! ## Tags


#!! This section lists all the tags inherited from the fst, and used as tags
#!! in the syntactic analysis. The next section, **Sets**, contains sets defined
#!! on the basis of the tags listed here, those set names are not visible in the output.


# Tags declared as single-membered LISTs
# ======================================

#!! ### Beginning and end of sentence
LIST BOS = (>>>) (<s>) ;  #!! BOS
LIST EOS = (<<<) (</s>) ; #!! EOS

# We define end of clause and beginning of clause in a way so that the file
# may be read both by the CG-2 and the vislcg formalisms.
# CG3 doesn´t function without >>> and <<< !


#!! ### Parts of speech tags

LIST Art = Art ; #!! * Art
LIST Noun = Noun ; #!! * Noun
LIST Prep = Prep ; #!! * Prep

LIST Subst = Subst ;        #!! * Subst Check what it is

LIST N = N ;		    #!! * N CHECK!!
LIST A = A ;		    #!! * A CHECK!!
LIST Noun = Noun ;	    #!! * Noun
LIST Adj = Adj ;	    #!! * Adjective
LIST Adv = Adv ;	    #!! * Adv
LIST Verb = Verb ;		    #!! * V
LIST Pron = Pron ;	    #!! * Pron
LIST CS = CS ;		    #!! * CS
LIST CC = CC ;		    #!! * CC
SET CC-CS = CC OR CS ;      #!! * CC-CS
LIST Po = Po ;		    #!! * Po
LIST Pr = Pr ;		    #!! * Pr
LIST Pcle = Pcle ;	    #!! * Pcle
LIST Num = Num ;	    #!! Num
LIST Interj = Interj ;      #!! * Interj
LIST ABBR = ABBR ;	    #!! * ABBR
LIST ACR = ACR ;	    #!! * ACR
LIST CLB = CLB ;	    #!! * CLB
LIST LEFT = LEFT ;	    #!! * LEFT
LIST RIGHT = RIGHT ;        #!! * RIGHT
LIST WEB = WEB ;	    #!! * WEB
LIST QMARK = """ ; # "      #!! * QMARK
LIST PPUNCT = PUNCT ;       #!! * PPUNCT
LIST Det = Det ;            #!! * Det
SET PUNCT = PPUNCT - QMARK ;  #!! * PUNCT
LIST SA = SA ; #!! Ad hoc tag for i > sa, to be revised.
LIST Q = Q ;

LIST COMMA = "," ;  #!! * COMMA
LIST ¶ = ¶;   #!! * ¶

#!! ### Tags for POS sub-categories

LIST Simp = Simp ; #!! * Simp
LIST Sbj = Sbj ; #!! * Sbj

LIST Pers = Pers ;	    #!! * Pers
LIST Dem = Dem ;	    #!! * Dem
LIST Interr = Interr ;  #!! * Interr
LIST Indef = Indef ;    #!! * Indef
LIST Recipr = Recipr ;  #!! * Recipr
LIST Refl = Refl ;	    #!! * Refl
LIST Rel = Rel ;	    #!! * Rel
LIST Coll = Coll ;	    #!! * Coll
LIST NomAg = NomAg ;    #!! * NomAg
LIST Prop = Prop ;	    #!! * Prop
LIST Allegro = Allegro ; #!! * Allegro
LIST Arab = Arab ; #!! * Arab
LIST Rom = Rom ; #!! * Romertall
LIST Foreign = Foreign ;
LIST NG = NG ;

#!! ### Tags for morphosyntactic properties

LIST DefArt = DefArt ; #!! * DefArt
LIST Art = Art ; #!! * Art
LIST Def = Def ; #!! * Def
LIST Fem = Fem ; #!! * Fem
LIST Masc = Masc ; #!! * Masc
LIST Len = Len ; #!! * Len
LIST hPref = hPref ; #!! * hPref, for h prefixation
LIST Ecl = Ecl ; #!! * Ecl
LIST Poss = Poss ; #!! * Poss, possessive
LIST 1P = 1P ;
LIST 2P = 2P ;
LIST 3P = 3P ;

LIST Nom = Nom ; #!! * Nom
LIST Acc = Acc ; #!! * Acc
LIST Gen = Gen ; #!! * Gen
LIST Dat = Dat ; #!! * Dat
LIST Loc = Loc ; #!! * Loc
LIST Com = Com ; #!! * Com
LIST Ess = Ess ; #!! * Ess
LIST Par = Par ; #!! * Par
LIST Voc = Voc ; #!! * Voc
LIST Sg = Sg ;   #!! * Sg
LIST Pl = Pl ;   #!! * Pl
LIST Cmp/SplitR = Cmp/SplitR ;	   #!! * Cmp/SplitR
LIST Cmp/SgNom = Cmp/SgNom ; #!! * Cmp/SgNom Cmp/SgGen
LIST Cmp/SgGen = Cmp/SgGen ; #!! * Cmp/SgGen

LIST Comp = Comp ;		   #!! * Comp
LIST Superl = Superl ;	   #!! * Superl
LIST Attr = Attr ;		   #!! * Attr
LIST Base = Base ;
LIST Ord = Ord ;		   #!! * Ord
LIST Qst = Qst ;		   #!! * Qst
LIST IV = IV ; #!! * IV
LIST TV = TV ; #!! * TV
LIST VD = VD ; #!! * VD
LIST VTI = VTI ; #!!
LIST Verbal = Verbal ; #!! * Verbal
LIST Prt = Prt;				   #!! * Prt
LIST Prs = Prs ;			   #!! * Prs
LIST Ind = Ind ;			   #!! * Ind
LIST Pot = Pot ;			   #!! * Pot
LIST Cond = Cond ;			   #!! * Cond
LIST Imprt = Imprt ;		   #!! * Imprt
LIST ImprtII = ImprtII ;	   #!! * ImprtII
LIST Inf = Inf ;			   #!! * Inf
LIST PrsPrc = PrsPrc ;		   #!! * PrsPrc
LIST Ger = Ger ;			   #!! * Ger
LIST Sup = Sup ;			   #!! * Sup
LIST Actio = Actio ;		   #!! * Actio
LIST VAbess = VAbess ;		   #!! * VAbess
LIST Abr = Abr ;   #!! * Abbreviation

SET NUMBER = Sg OR Pl ;  #!!= * @CODE@

LIST Err/Orth = Err/Orth Err/Orth-a/á Err/Orth-nom/gen Err/Orth-nom/acc Err/DerSub Err/CmpSub Err/UnspaceCmp Err/HyphSub Err/SpaceCmp Err/Spellrelax err_orth_mt ; #!! * Err/Orth

#!! * ### Semantic tags

LIST Sem/Act = Sem/Act ;				#!! * Sem/Act
LIST Sem/Ani = Sem/Ani ;				#!! * Sem/Ani
LIST Sem/Atr = Sem/Atr ;				#!! * Sem/Atr
LIST Sem/Body = Sem/Body ;				#!! * Sem/Body
LIST Sem/Clth = Sem/Clth ;				#!! * Sem/Clth
LIST Sem/Domain = Sem/Domain ;			    	#!! * Sem/Domain
LIST Sem/Feat-phys = Sem/Feat-phys ;	    		#!! * Sem/Feat-phys
LIST Sem/Fem = Sem/Fem ;				#!! * Sem/Fem
LIST Sem/Group = Sem/Group ;			    	#!! * Sem/Group
LIST Sem/Lang = Sem/Lang ;				#!! * Sem/Lang
LIST Sem/Mal = Sem/Mal ;				#!! * Sem/Mal
LIST Sem/Measr = Sem/Measr ;			   	#!! * Sem/Measr
LIST Sem/Money = Sem/Money ;			    	#!! * Sem/Money
LIST Sem/Obj = Sem/Obj ;				#!! * Sem/Obj
LIST Sem/Obj-el = Sem/Obj-el ;			    	#!! * Sem/Obj-el
LIST Sem/Org = Sem/Org ;				#!! * Sem/Org
LIST Sem/Perc-emo = Sem/Perc-emo ;		    	#!! * Sem/Perc-emo
LIST Sem/Plc = Sem/Plc ;				#!! * Sem/Plc
LIST Sem/Sign = Sem/Sign ;				#!! * Sem/Sign
LIST Sem/State-sick = Sem/State-lang-sick ; 		#!! * Sem/State-sick
LIST Sem/Sur = Sem/Sur ;				#!! * Sem/Sur
LIST Sem/Time = Sem/Time ;				#!! * Sem/Time
LIST Sem/Txt = Sem/Txt ;				#!! * Sem/Txt

LIST HUMAN = Sem/Fem Sem/Mal Sem/Sur ;	    		#!! * HUMAN

SET HAB-ACTOR = HUMAN ; #!! * HAB-ACTOR
SET HAB-ACTOR-NOT-HUMAN = Sem/Org ; 			#!! * HAB-ACTOR-NOT-HUMAN


LIST PROP-ATTR = Sem/Mal Sem/Sur Sem/Fem ; 		#!! * PROP-ATTR
LIST PROP-SUR = Sem/Sur Sem/Mal Sem/Fem ; 		#!! * PROP-SUR

SET TIME-N-SET = N + Sem/Time ;  			#!! * TIME-N-SET

#!! ## Noun errors (Len vs. not Len) after prepositions

#!! The following prepositions cause the following noun to be eclipsed and there are different rules for each preposition.
LIST ECLIPSE-PREP = "<i>" "<I>" ("i" Prep Simp SUGGEST) "<chuig>" ("chuig" Prep Simp SUGGEST); #!!= * @CODE@
#  "<ó>" "<roimh>" "<faoi> "<de>" "<do>" "<thar>" "<trí>" "<um>"

LIST ECLIPSE-TRID = "<trí>" ("trí" Prep Simp SUGGEST) "<Trí>"; #!!= * @CODE@
LIST ECLIPSE-LEIS = "<le>" ("le" Prep Simp SUGGEST) "<Le>"; #!!= * @CODE@

#!! These prepositions always cause the nouns after them to be lenited:
LIST ART-LEN-PREP = "<ar>" "<de>" "<do>" "<faoi>" "<gan>" "<idir>" "<mar>" "<ó>" "<roimh>" "<trí>";	#!!= * @CODE@

#!! Noun errors (Ecl vs. not Ecl) after prepositions
# Prepositions that do not lenite nouns: "<ag>" "<i>" "<le>" "<as>" "<chuig>" "<um>"

#LIST PREP-LEN = "<ar>" "<de>" "<do>" "<faoi>" "<gan>" "<idir>" "<ó>" "<roimh>" "<thar>" "<trí>" "<um>" ;  	#!!= * @CODE@
#LIST-PREP = "ag" "ar" "as" "chuig" "de" "do" "faoi" "i" "le" "ó" "roimh" "thar" "trí" "um";



LIST NUM-LEN = "aon" "<chéad>" "<dhá>" "trí" "<ceithre>" "cúig" "sé" "beirt" "uile"; 		#!!= * @CODE@
LIST NUM-ECL = "seacht" "ocht" "naoi" "deich" ; #!!= * @CODE@
LIST NUM-PL-ADJ = "<dhá>" "trí" "ceithre" "cúig" "sé" "seacht" "ocht" "naoi" "deich" "beirt" ; 	#!!= * @CODE@
LIST ECL-NON-ECL-N = (".*ó"r) (".*án"r) ; #!!= * @CODE@

LIST COMMONWORD = ("carr" Noun Masc) ("athair" Noun Masc) ; 	#!!= * @CODE@
LIST RAREWORD = ("carr" Noun Fem) ("athair" Noun Fem) ; 	#!!= * @CODE@

#!! ###  Syntactic tags

LIST @+FAUXV = @+FAUXV ;	         #!! * `@+FAUXV     `
LIST @+FMAINV = @+FMAINV ;	         #!! * `@+FMAINV    `
LIST @-FAUXV = @-FAUXV ;	         #!! * `@-FAUXV     `
LIST @-FMAINV = @-FMAINV ;	         #!! * `@-FMAINV    `
LIST @-FSUBJ> = @-FSUBJ> ;	         #!! * `@-FSUBJ>    `
LIST @-F<OBJ = @-F<OBJ ;	         #!! * `@-F<OBJ     `
LIST @-FOBJ> = @-FOBJ> ;	         #!! * `@-FOBJ>     `
LIST @SPRED<OBJ = @SPRED<OBJ ;       	 #!! * `@-FSPRED<OBJ`
LIST @-F<ADVL = @-F<ADVL ;	         #!! * `@-F<ADVL    `
LIST @-FADVL> = @-FADVL> ;	         #!! * `@-FADVL>    `
LIST @-F<SPRED = @-F<SPRED ;         	 #!! * `@-F<SPRED   `
LIST @-F<OPRED = @-F<OPRED ;         	 #!! * `@-F<OPRED   `
LIST @-FSPRED> = @-FSPRED> ;         	 #!! * `@-FSPRED>   `
LIST @-FOPRED> = @-FOPRED> ;         	 #!! * `@-FOPRED>   `
SET FOBJ = @-F<OBJ OR @-FOBJ> ;
SET FMAINV = @-FMAINV OR @+FMAINV ;
SET FAUXV = @-FAUXV OR @+FAUXV ;
LIST @>ADVL = @>ADVL ;               	#!! * `@>ADVL`
LIST @ADVL< = @ADVL< ;               	#!! * `@ADVL<`
LIST @<ADVL = @<ADVL ;               	#!! * `@<ADVL`
LIST @ADVL> = @ADVL> ;               	#!! * `@ADVL>`
LIST ADVL = @ADVL @ADVL> @ADVL< @<ADVL @>ADVL @-F<ADVL @-FADVL> ;  #!! * `@ADVL`
LIST @HAB> = @HAB> ;                    #!! * `@HAB>`
LIST @<HAB = @<HAB ;                    #!! * `@<HAB`
SET @HAB = @<HAB OR @HAB> ;
LIST @>N = @>N ;		      	#!! * `@>N`
LIST @Interj = @Interj ;      		#!! * `@Interj  `
LIST @N< = @N< ;		      	#!! * `@N<      `
LIST @>A = @>A ;		      	#!! * `@>A      `
LIST @P< = @P< ;		      	#!! * `@P<      `
LIST @>P = @>P ;		      	#!! * `@>P      `
LIST @HNOUN = @HNOUN ;	      		#!! * `@HNOUN   `
LIST @INTERJ = @INTERJ ;      		#!! * `@INTERJ  `
LIST @>Num = @>Num;		      	#!! * `@>Num    `
LIST @Pron< = @Pron< ;	      		#!! * `@Pron<   `
LIST @>Pron = @>Pron ;	      		#!! * `@>Pron   `
LIST @Num< = @Num< ;	      		#!! * `@Num<    `
LIST @OBJ = @OBJ ;			#!! * `@OBJ     `
LIST @<OBJ = @<OBJ ;		  	#!! * `@<OBJ    `
LIST @OBJ> = @OBJ> ;		  	#!! * `@OBJ>    `
LIST @OPRED = @OPRED ;		  	#!! * `@OPRED   `
LIST @<OPRED = @<OPRED ;	  	#!! * `@<OPRED  `
LIST @OPRED> = @OPRED> ;	  	#!! * `@OPRED>  `
LIST @PCLE = @PCLE ;		  	#!! * `@PCLE    `
LIST @COMP-CS< = @COMP-CS< ;  		#!! * `@COMP-CS<`
LIST @SPRED = @SPRED ;		  	#!! * `@SPRED   `
LIST @<SPRED = @<SPRED ;	  	#!! * `@<SPRED  `
LIST @SPRED> = @SPRED> ;	  	#!! * `@SPRED>  `
LIST @SUBJ = @SUBJ ;		  	#!! * `@SUBJ    `
LIST @<SUBJ = @<SUBJ ;		  	#!! * `@<SUBJ   `
LIST @SUBJ> = @SUBJ> ;		  	#!! * `@SUBJ>   `
SET SUBJ = @<SUBJ OR @SUBJ> OR @SUBJ ; 	#!! * SUBJ
SET SPRED = @<SPRED OR @SPRED> OR @SPRED ; #!! * SPRED
SET OPRED = @<OPRED OR @OPRED> OR @OPRED ; #!! * OPRED
LIST @PPRED = @PPRED ;                  #!! * @PPRED
LIST @APP = @APP ;			#!! * `@APP      `
LIST @APP-N< = @APP-N< ;	   	#!! * `@APP-N<   `
LIST @APP-Pron< = @APP-Pron< ; 		#!! * `@APP-Pron<`
LIST @APP>Pron = @APP>Pron ;   		#!! * `@APP>Pron `
LIST @APP-Num< = @APP-Num< ;   		#!! * `@APP-Num< `
LIST @APP-ADVL< = @APP-ADVL< ; 		#!! * `@APP-ADVL<`
LIST @VOC = @VOC ;			#!! * `@VOC      `
LIST @CVP = @CVP ;			#!! * `@CVP      `
LIST @CNP = @CNP ;			#!! * `@CNP      `
SET OBJ = (@<OBJ) OR (@OBJ>) OR (@OBJ) OR (@-F<OBJ) OR (@-FOBJ>) ; #!! * OBJ
LIST <OBJ = @-F<OBJ @<OBJ ;    		#!! * `<OBJ`
LIST OBJ> = @OBJ> @-FOBJ> ;    		#!! * `OBJ>`
SET <OBJ-OTHERS = <OBJ OR (Gen) OR (Nom) OR (Ess) OR (Loc) OR (Adv) ; #!! * `<OBJ-OTHERS`
SET OBJ>-OTHERS = OBJ> OR (Gen) OR (Nom) OR (Ess) OR (Loc) OR (Adv) ; #!! * `OBJ>-OTHERS`
SET NOT-FAUXV = FMAINV OR OBJ + Verb OR ADVL + Verb ;

# Works after the mapping rules for verbs.
SET SYN-V = FMAINV OR FAUXV OR Verb + SUBJ OR OBJ + Verb OR ADVL + Verb OR (V @>N) OR (V @N<) OR (V @A<) ; #!! * SYN-V
LIST @X = @X ;    #!! * @X

# Secondary tags

LIST <ComGen> = <ComGen> ; # Tag for nouns where Com and Gen forms are homonymous


# ========
  SETS
# ========

#!! ## Sets containing sets of lists and tags

#!! This part of the file lists a large number of sets based partly upon the tags defined above, and
#!! partly upon lexemes drawn from the lexicon.
#!! See the sourcefile itself to inspect the sets, what follows here is an overview of the set types.

#!! ### Sets for Single-word sets

LIST INITIAL = "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m"  	#!!= * @CODE@
        "n" "o" "p" "q" "r" "s" "t" "u" "v" "w" "x" "y" "z"           	#!!= * @CODE@
        "á" ;  #!!= * @CODE@INITIAL

#!! ### Sets for word or not

LIST WORD = Noun Adj Adv Verb Pron CS CC Po Pr Interj Pcle Num ABBR ACR  \? ; #!! WORD
 #!! any word
# SET REAL-WORD = WORD - Num - Ord ; #!! REAL-WORD
SET REAL-WORD-NOT-ABBR = WORD - Num - Ord - (ABBR N) ; # This is former REALWORD-NOTABBR #!! REAL-WORD-NOT-ABBR #!!= * @CODE@
SET NOT-COMMA = WORD - COMMA ;  #!! NOT-COMMA #!!= * @CODE@

#!! ### Case sets
# ---------

LIST ADVLCASE = Dat Com ; #!! * ADLVCASE

LIST CASE-AGREEMENT = Nom Acc Gen Dat Com ; 	#!! * CASE-AGREEMENT
LIST CASE = Nom Acc Gen Dat Com Voc ; 		#!! * CASE

SET NOT-NOM = CASE - Nom ; #!! * NOT-NOM
SET NOT-GEN = CASE - Gen ; #!! * NOT-GEN
SET NOT-ACC = CASE - Acc ; #!! * NOT-ACC

#!! ### Verb sets
# ---------

#!! #### Verbs and their complements
# - - - - - - - - - - - - - -

SET NOT-V = WORD - Verb ; #!! * NOT-V

#!! ### Sets for finiteness and mood
# - - - - - - - - - -

SET MOOD-V = Ind OR Pot OR Imprt OR ImprtII OR Cond OR (Neg Sup) ; #!! MOOD-V


#!! ### Sets for person
# - - - -

LIST SG1-V = (V Sg1)  ;  #!! SG1-V
LIST SG2-V = (V Sg2)  ;  #!! SG2-V
LIST SG3-V = (V Sg3)  ;  #!! SG3-V
LIST PL1-V = (V Pl1)  ;  #!! PL1-V
LIST PL2-V = (V Pl2)  ;  #!! PL2-V
LIST PL3-V = (V Pl3)  ;  #!! PL3-V

LIST MODOA = (Poss 1P Sg) (Poss 2P Sg) (Poss 3P Sg Masc) ; 	#!! Set for your, my and his

LIST PLPOSS = (Poss Pl)  ;  #!!= * @CODE@

#!! Note that imperative verbs are not included in these sets!

#!! Some subsets of the VFIN sets
# - - - - - - - - - - - - - - -
SET SG-V = SG1-V OR SG2-V OR SG3-V ;  #!!= * @CODE@
SET PL-V = PL1-V OR PL2-V OR PL3-V ; #!!= * @CODE@

#!! ### Pronoun sets
# ------------

LIST PPRON-GEN = (Sg1 Gen) (Sg2 Gen) (Sg3 Gen)
	(Pl1 Gen) (Pl2 Gen) (Pl3 Gen) (p1 sg gen) (p2 sg gen)
	(p1 pl gen) (p2 pl gen) (p3 pl gen) ;

SET PPRON-NOT-GEN = (Pron Pers) - PPRON-GEN ;

LIST SG-PRON = (Pron Sg1) (Pron Sg2) (Pron Sg3) (Pron Sg) (pron p1 sg) (pron p2 sg) (pron p3 sg);
LIST PL-PRON = (Pron Pl1) (Pron Pl2) (Pron Pl3) (Pron Pl) (pron p1 pl) (pron p2 pl) (pron p3 pl);


#!! ### Adjectival sets and their complements
# -------------------------------------
SET A-CASE = Adj - Attr - Adv ;

LIST A-CC = A CC ;

SET NOT-A = (*) - Adj ; # This is former NOT-ADJ
SET NOT-A-COMMA = (*) - Adj - COMMA ;
SET NOT-Attr = (*) - Attr ;
SET NOT-A-PCLE = (*) - Adj - Pcle ;
SET NOT-A-CC = (*) - A-CC ;


#!! ### Adverbial sets and their complements
# ------------------------------------
SET LEX-ADV = Adv - (AA) ;

SET NOT-ADV-DE         = (*) - Adv ;
SET NOT-ADV            = NOT-ADV-DE OR CLB ;
SET NOT-ADV-N          = NOT-ADV - N;
SET NOT-ADV-PCLE       = NOT-ADV - Pcle ;
SET NOT-ADV-INDEF      = NOT-ADV - Indef ;
SET NOT-ADV-PCLE-ILL-LOC-COM = (*) - Adv - Pcle - Loc - Com;
SET NOT-A-ADV-PCLE =  (*) - Pcle - A - Adv ;



#!! ### Sets of elements with common syntactic behaviour
# ================================================

SETS

#!! ### NP sets defined according to their morphosyntactic features
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

LIST N-SG-NOM = (N Sg Nom);

LIST PROP = (N Prop);

SET COMMON-N = N - Prop;

SET HEAD-N = N - Cmp/SplitR ;

SET HEAD-N-NOM = (N Nom) - Cmp/SplitR ;

# SET SUBJECTHEAD = N OR A OR Pron - Refl ; # These, can be subject heads

SET NP 		   = N OR A ;                      # anything that can take except numerals
SET NP-HEAD        = Pron OR HEAD-N ;
SET NP-HEAD-SG     = SG-PRON OR (N Sg) OR (A Sg) - Cmp/SplitR  ;
SET NP-HEAD-PL     = PL-PRON OR (N Pl) OR (A Pl) - Cmp/SplitR  ;
SET NP-HEAD-SG-NOM = SG-PRON + Nom OR (N Sg Nom) OR (A Sg Nom) - Cmp/SplitR ;
SET NP-HEAD-PL-NOM = PL-PRON + Nom OR (N Pl Nom) OR (N Coll Nom) OR (A Pl Nom) - Cmp/SplitR ;
SET NP-HEAD-NOM    = NP-HEAD-SG-NOM OR NP-HEAD-PL-NOM ;
SET NP-HEAD-ACC    = (Pron Acc) OR (N Acc) OR (A Acc) - Cmp/SplitR - (Dem Attr);
SET NP-HEAD-GEN    = (Pron Gen) OR (N Gen) OR (A Gen) - Cmp/SplitR - (Dem Attr)   ;

#!! ### The PRE-NP-HEAD family of sets

#!! These sets model noun phrases (NPs). The idea is to first define whatever can
#!! occur in front of the head of the NP, and thereafter negate that with the
#!! expression **WORD - premodifiers**.


SET PRE-NP-HEAD = (Prop Attr) OR (Prop @>N) OR (A Attr) OR (ABBR Attr)
         OR (Pron Pers Gen) OR (N Gen) OR
         Num OR Cmp/SplitR OR CC OR (Pron Dem) OR (Pron Refl Gen) OR (Indef Attr) OR
         (PrfPrc @>N) OR PrsPrc OR (A Ord) ;
         # The strict version of items that can only be premodifiers, not parts of the predicate

SET PRE-A-N     = (Pron Pers Gen) OR (Pron Pers Acc) OR (Pron Indef) OR Num OR (A Ord) OR (Pron Dem) OR (Pron Refl Gen) OR (Pron Refl Acc) ;

SET NOT-PRE-A-N =  (*) - PRE-A-N ;

LIST PUNCT-LEFT = (PUNCT LEFT) ;
LIST PUNCT-RIGHT = (PUNCT RIGHT) ;

SET NOT-NPMOD     =  (*) - PRE-NP-HEAD OR ABBR OR @CVP ;
# NOT-NPMOD  = "NOT-PRE-NP-HEAD"

SET NOT-NPMOD-ACC     = NOT-NPMOD - Acc OR ABBR ;
SET NOT-NPMOD-ACC-ADV     = NOT-NPMOD - Acc - Adv OR ABBR ;

SET NOT-NPMODADV    =  (*) - PRE-NP-HEAD - Adv ;
SET NOT-NPMODADV-INDEF   =  (*) - PRE-NP-HEAD - Adv - Indef ;

SET NOT-N =  (*) - N ;
SET NOT-ART =  (*) - Art ;
SET NOT-N-A =  (*) - N - A ;

SET NOT-NP = Inf OR Pcle OR Interj OR CS ;

SET NUM = Num ;

SET NOT-NUM =  (*) - Num ;

SET NOT-CC =  (*) - CC ;

SET NOT-PCLE =  (*) - Pcle ;

SET REAL-CLB = CLB - COMMA ;


#!! ### Border sets and their complements
# ---------------------------------

SET CP = (Pron Interr) OR (Pron Rel) ;

LIST BOUNDARYSYMBOLS =  "\;" ":" "-" "–" ;

SET S-BOUNDARY = BOUNDARYSYMBOLS OR (@CVP) ;

SET BOC = S-BOUNDARY OR BOS ;
SET BOC-PUNCT = BOC - ("-") - ("–") ;
SET EOC = S-BOUNDARY OR EOS ;

SET NP-BOUNDARY = BOS OR EOS OR REAL-CLB OR Inf OR PPRON-NOT-GEN OR Recipr OR Po OR Pr OR Pcle OR Interj OR CS OR CP OR @CVP ;

SET SV-BOUNDARY = S-BOUNDARY OR Inf OR Sup OR FMAINV ;

SET CCCOMMA = CC OR COMMA ;
	# remember that those are potential sentence boundaries, too

#!! ### Morphoponological sets


LIST WORD-BEGIN-NO-LEN = ("<[dntls].*>"r) ;

LIST WORD-END-NO-LEN = ("<.*[dntls]>"r) ;


#!! ### Grammarchecker sets

#!! #### Genitive rules

#!! 1. N N => N N.Gen (When two nouns come together, the second noun has to be in the genitive case.)
LIST &msyn-gen-noun-noun =  &msyn-gen-noun-noun ;

#!! 2. N DefArt N => N DefArt N.Gen (When two nouns come together and there is the definite article between the nouns.)
LIST &msyn-gen-noun-defart-noun = &msyn-gen-noun-defart-noun ;

#!! 3. N DetPoss N => N DetPoss N.Gen (When two nouns come together and there is a possessive adjective between the nouns, the possessive adjective does not cancel the rule of the second noun being in the genitive case.)
LIST &msyn-gen-noun-detpss-noun = &msyn-gen-noun-detpss-noun ;

#!! 4. N A => N A.Gen When adjectives come after nouns in the genitive, the adjective must be rendered into the genitive case as well.)
LIST &msyn-gen-noun-adj = &msyn-gen-noun-adj ;

#!! 5. VN N.Gen => VN N.Gen (When a definite noun follows a verbal noun, the definite noun has to be in the genitive case.)
LIST &msyn-gen-vn-noun = &msyn-gen-vn-noun ;

#!! Other gen tags:
#LIST &msyn-gen-case-noun = &msyn-gen-case-noun ;   #!!= * @CODE@ is the old genrule tag we want to get rid of
LIST &msyn-gen-case-nouns = &msyn-gen-case-nouns ;   #!!= * @CODE@ is the old genrule tag we want to get rid of


#!! ###  Other tags

#LIST &msyn-com-case-nouns = &msyn-com-case-nouns ;
#LIST &msyn-fem-article = &msyn-fem-article ;    #!!= * @CODE@
#LIST &use-ie.i. = &use-ie.i. ;    #!!= * @CODE@
#LIST &msyn-inis-de = &msyn-inis-de ;    #!!= * @CODE@
#LIST &msyn-len-after-prep-sfem = &msyn-len-after-prep-sfem ;    #!!= * @CODE@
#LIST &spell-conservatively = spell-conservatively ;    #!!= * @CODE@
#LIST &spell-it-all = spell-it-all ;    #!!= * @CODE@
LIST &use-ellipsis = &use-ellipsis ;    #!!= * @CODE@
LIST &use-guillemets = &use-guillemets ;    #!!= * @CODE@
LIST &lex-ar-a-haon-a-chlog = &lex-ar-a-haon-a-chlog ; #!!= * @CODE@
LIST &lex-ar-an-aonach = &lex-ar-an-aonach ; #!!= * @CODE@
LIST &lex-ar-an-gcaife = &lex-ar-an-gcaife;    #!!= * @CODE@
LIST &lex-ar-an-tae = &lex-ar-an-tae;    #!!= * @CODE@
LIST &lex-correct-art = &lex-correct-art;
LIST &lex-tá-is = &lex-tá-is ;      #!!= * @CODE@
LIST &lex-part-comparative-adj = &lex-part-comparative-adj ; #!!= * @CODE@
LIST &msyn-adj-gender = &msyn-adj-gender ;      #!!= * @CODE@
LIST &msyn-adj-masc-gender = &msyn-adj-masc-gender ;
LIST &msyn-beag-is-fiu-de = &msyn-beag-is-fiu-de ; #!!= * @CODE@
LIST &msyn-cúpla-plnoun-sgnoun = &msyn-cúpla-plnoun-sgnoun ;     #!!= * @CODE@
LIST &msyn-ecl-after-prep-i = msyn-ecl-after-prep-i ;
LIST &msyn-ecl-after-prep1 = &msyn-ecl-after-prep1 ;     #!!= * @CODE@
LIST &msyn-ecl-after-prep2 = &msyn-ecl-after-prep2 ;     #!!= * @CODE@
LIST &msyn-ecl-after-prep3 = &msyn-ecl-after-prep3 ;     #!!= * @CODE@
LIST &msyn-ecl-after-prep5 = &msyn-ecl-after-prep5 ;     #!!= * @CODE@
LIST &msyn-ecl-after-prep6 = &msyn-ecl-after-prep6 ;     #!!= * @CODE@
LIST &msyn-fada-o = &msyn-fada-o ;    #!!= * @CODE@
LIST &msyn-gen-chun-noun = &msyn-gen-chun-noun ; #!!= * @CODE@
LIST &msyn-gen-chun-defart-noun = &msyn-gen-chun-defart-noun ; #!!= * @CODE@
LIST &msyn-gen-vn-noun-with-article = &msyn-gen-vn-noun-with-article ;	#!!= * @CODE@
LIST &msyn-ecl-after-verb-particle-q = &msyn-ecl-after-verb-particle-q ; #!!= * @CODE@
LIST &msyn-hPref-after-copula = &msyn-hPref-after-copula ; #!!= * @CODE@
LIST &msyn-láimh-le = &msyn-láimh-le ;
LIST &msyn-lenition-after-coppast = &msyn-lenition-after-coppast ; #!!= * @CODE@
LIST &msyn-hPref-after-neg-imp = &msyn-hPref-after-neg-imp ; #!!= * @CODE@
LIST &msyn-n-after-i-prep-vowel = &msyn-n-after-i-prep-vowel ; #!!= * @CODE@
LIST &msyn-hPref-after-na = &msyn-hPref-after-na ; #!!= * @CODE@
LIST &msyn-hPref-after-sna = &msyn-hPref-after-sna ; #!!= * @CODE@
LIST &msyn-hPref-after-prep = &msyn-hPref-after-prep ; #!!= * @CODE@
LIST &msyn-i-mbliana = &msyn-i-mbliana ; #!!= * @CODE@
LIST &msyn-inis-do = &msyn-inis-do ;    #!!= * @CODE@
LIST &msyn-len-after-prep = &msyn-len-after-prep ;    #!!= * @CODE@
LIST &msyn-lenition-after-ni = &msyn-lenition-after-ni ; #!!= * @CODE@
LIST &msyn-lenition-after-nior = &msyn-lenition-after-nior ; #!!= * @CODE@
LIST &msyn-len-after-da = &msyn-len-after-da ; #!!= * @CODE@
LIST &msyn-len-after-ma = &msyn-len-after-ma ; #!!= * @CODE@
LIST &msyn-lenition-after-aon = &msyn-lenition-after-aon ; #!!= * @CODE@
LIST &msyn-lenition-after-sa = &msyn-lenition-after-sa ; #!!= * @CODE@
LIST &msyn-plural-after-sna = &msyn-plural-after-sna ; #!!= * @CODE@
LIST &msyn-prep-lámh = &msyn-prep-lámh ; #!!= * @CODE@
LIST &msyn-sna-before-plural = &msyn-sna-before-plural ; #!!= * @CODE@
LIST &msyn-lenition-after-thar = &msyn-lenition-after-thar ; #!!= * @CODE@
LIST &msyn-lenition-after-um = &msyn-lenition-after-um ; #!!= * @CODE@
LIST &lex-conj-plus-copula = &lex-conj-plus-copula ; #!!= * @CODE@
LIST &msyn-ecl-after-mura = &msyn-ecl-after-mura ;	 #!!= * @CODE@
LIST &msyn-ecl-after-da = &msyn-ecl-after-da ;	 #!!= * @CODE@
LIST &msyn-ecl-after-go = &msyn-ecl-after-go ;	 #!!= * @CODE@
LIST &msyn-ecl-after-nach = &msyn-ecl-after-nach ; #!!= * @CODE@
LIST &msyn-lenition-after-possessive-adjective = &msyn-lenition-after-possessive-adjective ;      #!!= * @CODE@
LIST &msyn-noun-defart = &msyn-noun-defart ;    #!!= * @CODE@
LIST &msyn-ce-plus-defart = &msyn-ce-plus-defart ; #!!= * @CODE@
LIST &msyn-prepart-prep = &msyn-prepart-prep ;    #!!= * @CODE@
LIST &msyn-prep-detposs = &msyn-prep-detposs ;    #!!= * @CODE@
LIST &msyn-le-plus-defart = &msyn-le-plus-defart ; #!!= * @CODE@
LIST &msyn-tri-plus-defart = &msyn-tri-plus-defart ;  #!!= * @CODE@
LIST &msyn-ecl-after-trí-defart = &msyn-ecl-after-trí-defart ; #!!= * @CODE@
LIST &msyn-possadj-nom-gen = &msyn-possadj-nom-gen ;    #!!= * @CODE@
LIST &msyn-prep-pron = &msyn-prep-pron ;    #!!= * @CODE@
LIST &msyn-sa = &msyn-sa ; #!!= * @CODE@
LIST &msyn-san = &msyn-san ; #!!= * @CODE@
LIST &msyn-teastaigh-ó = &msyn-teastaigh-ó ;    #!!= * @CODE@
LIST &lex-da-bharr-sin = &lex-da-bharr-sin ; 	#!!= * @CODE@
LIST &lex-os-a-choinne-sin = &lex-os-a-choinne-sin ; #!!= * @CODE@
LIST &lex-ina-ainneoin-sin = &lex-ina-ainneoin-sin ; #!!= * @CODE@
LIST &msyn-cop-past-neg-vowel = &msyn-cop-past-neg-vowel ;
LIST &lex-de-ainneoin = &lex-de-ainneoin ; #!!= * @CODE@
LIST &lex-chomh = &lex-chomh ; #!!= * @CODE@
LIST &lex-dairire = &lex-dairire ; #!!= * @CODE@
LIST &lex-ar-leibheal = &lex-ar-leibheal ; #!!= * @CODE@
LIST &syn-not-initial = &syn-not-initial ;
LIST &punct-question-mark = &punct-question-mark ; #!!= * @CODE@
LIST &typo = &typo ;
LIST &syn-a-before-verb-relativephrase = &syn-a-before-verb-relativephrase ;    #!!= * @CODE@
LIST ADDED = ADDED ;  #!!= * @CODE@ tag ensuring ... hmm
LIST ADDED-BEFORE-BLANK = ADDED-BEFORE-BLANK ;  #!!= * @CODE@ tag ensuring ... hmm
LIST SUGGEST = SUGGEST ;  #!!= * @CODE@ tag ensuring generation of a suggestion for an errouneous word


MAPPING-PREFIX = & ;    #!!= * @CODE@

#!! Here ends the list and set section

BEFORE-SECTIONS      #!!= # @CODE@

LIST <fixedcase> = <fixedcase>;       #!!= * @CODE@
ADD:fixedcase-np <fixedcase> TARGET Prop ;     	#!!= * @CODE@ ,  Never change case of proper nouns

SECTION      #!!= # @CODE@

#!! ## spellchecking

ADD:spell-it-all (&typo SUGGESTWF) (<spelled>) ;      		#!!= * @CODE@ = add rule marking typos

LIST HUMAN-N = "dochtúir" "múinteoir" "bean" "fear" ;    	#!!= * @CODE@ (to be moved to other tags)

#!! * **RULE: lex-tá-is ** To change *TÁ* to *IS*

ADD:lex-tá-is (&lex-tá-is) TARGET ("bí" Verb VI PresInd) IF (1 (Pron Pers 1P Sg) LINK 1 HUMAN-N) ;
COPY:lex-tá-is ("is" Cop Pres SUGGEST) EXCEPT ("bí" Verb VI PresInd ) TARGET (&lex-tá-is);

#!!! ## Copula errors tá vs. is

	## Tá mé bean tuirseach.
	#$ Is bean thuirseach mé.
	## Tá mé dochtúir.
	#$ Is dochtúir mé.
	## Tá mé múinteoir.
	#$ Is múinteoir mé.
	## Tá mé fear.
	#$ Is fear mé.

#!! ## Gender errors in adjectives

#!! **RULE: msyn-adj-gender** to change Masculine adjective to Feminine if it modifies a feminine noun !!IT WORKS!!

ADD:msyn-adj-gender (&msyn-adj-gender) TARGET (Noun Masc Com Sg DefArt) OR (Adj Masc) IF (-1 (Noun Fem Com Sg) LINK NOT 0 Masc)(NOT 0 Fem) ;
COPY:msyn-adj-gender (Fem Com Sg Len SUGGEST) EXCEPT (Masc Com Sg) TARGET (Masc &msyn-adj-gender);
ADDRELATION:msyn-adj-gender ($2) (Noun) TO (1 (Adj &msyn-adj-gender));
    	## An fhuinneog beag - INCORRECT
	#$ An fhuinneog bheag - CORRECT

#!! **RULE: msyn-adj-masc-gender** to correct Feminine adjectives to Masculine if the noun is masculine

ADD:msyn-adj-masc-gender (&msyn-adj-masc-gender) TARGET (Adj Len) IF (-1 (Noun Masc Com Sg));
COPY:msyn-adj-masc-gender (Base SUGGEST) EXCEPT (Len) TARGET (Masc &mysn-adj-masc-gender);
ADDRELATION:msyn-adj-masc-gender ($2) (Noun) TO (1 (Adj &msyn-adj-masc-gender));

	##a rule to ensure a plural adjective is matched with a plural noun #Adj Masc Com Sg Len + Adj Masc Com Sg "boic ghustalach". Leanaí tanaí, leanaí cliste. institiúidí náisiúnta

ADD:msyn-pl-noun-pl-adj (&msyn-pl-noun-pl-adj) TARGET (Adj Masc Com Sg) IF (-1 (Noun Masc Com Pl)) ;
COPY:msyn-pl-noun-pl-adj (Adj Com Pl SUGGEST) EXCEPT (&msyn-pl-noun-pl-adj) TARGET (&msyn-pl-noun-pl-adj);

ADD:msyn-pl-noun-pl-adj (&msyn-pl-noun-pl-adj) TARGET (Adj) IF (0 (Masc Com Sg Len))(-1 (Noun Com Pl))(NEGATE 0 Pl - (Gen Weak)) ;
COPY:msyn-pl-noun-pl-adj (Com Slender Pl Len SUGGEST) EXCEPT (Fem Com Sg) OR (Gen Weak Pl) TARGET (Adj &msyn-pl-noun-pl-adj) IF (-1 ("<.*i.>"r));

ADD:msyn-pl-noun-pl-adj (&msyn-pl-noun-pl-adj) TARGET (Adj) IF (0 Sg OR Base OR (Gen Weak Pl) OR (Masc Com Sg Len))(-1 (Noun Com Pl))(NEGATE 0 Pl - (Gen Weak)) ;
COPY:msyn-pl-noun-pl-adj (Com Slender Pl Len SUGGEST) EXCEPT (Masc Com Sg) OR (Fem Com Sg) OR (Gen Weak Pl) TARGET (Adj &msyn-pl-noun-pl-adj) IF (-1 ("<.*i.>"r));
	## Tháinig fir cáiliúil go leor chun na Ríochta i mbliana.

COPY:msyn-pl-noun-pl-adj (Com NotSlen Pl SUGGEST) EXCEPT (Masc Com Sg) OR (Fem Com Sg) OR (Gen Weak Pl) TARGET (Adj &msyn-pl-noun-pl-adj) IF (NEGATE -1 ("<.*i.>"r));


#ADD:msyn-pl-noun-pl-adj (&msyn-pl-noun-pl-adj) TARGET (Noun) IF (1 (Adj &msyn-pl-noun-pl-adj)) ;

#ADDRELATION:msyn-pl-noun-pl-adj ($2) (Adj &msyn-pl-noun-pl-adj) TO (-1 (Noun &msyn-pl-noun-pl-adj));
	## Tháinig daltaí cáiliúil go leor chun na Ríochta i mbliana.
	##LINDA



	#!! ## Prepositions and pronouns fused
	# -------------------------------------

#!! **ADD:msyn-prep-pron** RULE TO CHANGE A PREPOSITION AND A PRONOUN INTO A PREPOSITIONAL PRONOUN (e.g., AG MÉ = AGAM, ROIMH SIBH = ROMHAIBH) !!IT WORKS!!

ADD:msyn-prep-pron (&msyn-prep-pron) TARGET (Prep Simp) (1 (Pron Pers)) ;
ADD:msyn-prep-pron (&msyn-prep-pron) TARGET (Pron Pers) (-1 &msyn-prep-pron) ;
	## Níl an am ag mé le aghaidh é seo. Pron Prep 1P Sg Emph
	#$ Níl an t-am agam le haghaidh é seo.

ADDRELATION:msyn-prep-pron (DELETE1) (Prep &msyn-prep-pron) TO (1 (Pron &msyn-prep-pron)) ;

COPY:msyn-prep-pron (Pron Prep 1P Sg SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (1P Sg)) ;
COPY:msyn-prep-pron (Pron Prep 2P Sg SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (2P Sg)) ;
COPY:msyn-prep-pron (Pron Prep 3P Sg Masc SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (3P Sg Masc)) ;
COPY:msyn-prep-pron (Pron Prep 3P Sg Fem SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (3P Sg Fem)) ;
COPY:msyn-prep-pron (Pron Prep 1P Pl SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (1P Pl)) ;
COPY:msyn-prep-pron (Pron Prep 2P Pl SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (2P Pl)) ;
COPY:msyn-prep-pron (Pron Prep 3P Pl SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-pron) (1 (3P Pl)) ;



MAP:LOCK_READING (SUGGEST) (SUGGEST);

	#$ Tá an madra ag siúl leat (correct)
	## Tá an madra ag siúl le tú (incorrect)
	#$ Tá súil aige leis (correct)
	## Tá súil aige le sé (incorrect)
	## Tá súil aige le sí (incorrect)
	#$ Tá súil aige léi (correct)

	#!! ## Prepositions and possessive adjectives fused
	# --------------------------------------------------
	# de/do+Poss

LIST PREPDETPOSS = "de" "do" ;

ADD:msyn-prep-detposs (&msyn-prep-detposs) TARGET (Prep Simp) + PREPDETPOSS (1 (Det Poss) LINK 0 (3P) OR (1P Pl));
ADD:msyn-prep-detposs (&msyn-prep-detposs) TARGET (Det Poss) (-1 &msyn-prep-detposs) ;
	## Tabhair do a athair é. INCORRECT
	## Tabhair do a hathair é. INCORRECT
	## Tabhair do ár n-athair é. INCORRECT

	# faoi+Poss

LIST PREPDETPOSS-N-INSERT = "faoi" "go" "i" "le" "ó" "trí" ;
# faoi + a = faoina, go + a = gona, le + a = lena, etc.

ADD:msyn-prep-detposs (&msyn-prep-detposs) TARGET (Prep Simp) + PREPDETPOSS-N-INSERT (1 (Det Poss) LINK 0 (3P) OR (1P Pl));
ADD:msyn-prep-detposs (&msyn-prep-detposs) TARGET (Det Poss) (-1 &msyn-prep-detposs) ;
	## Tá bogha dubh faoi a shúile.
	#$ Tá bogha dubh faoina shúile.
	## Long go a lasta.
	#$ Long gona lasta.
	## Rith sé trí a intinn ansin gur chuala sé scéal tráth dá raibh.
	#$ Rith sé trína intinn ansin gur chuala sé scéal tráth dá raibh.
	## Shuigh Nancy síos ar chorr na cathaoireach le a taobh.
	## Shuigh Nancy síos ar chorr na cathaoireach lena taobh.
	## Bhain sé an cóta de a athair.
	#$ Bhain sé an cóta dá athair.
	## Tá sé i a shuí sa charr.
	#$ Tá sé ina shuí sa charr.
	## Fuair sé idir fháilte agus cháineadh ó a lucht éisteachta.
	#$ Fuair sé idir fháilte agus cháineadh óna lucht éisteachta.


ADDRELATION:msyn-prep-detposs (DELETE1) (Prep &msyn-prep-detposs) TO (1 (Det Poss &msyn-prep-detposs)) ;

COPY:msyn-prep-detposs (Prep Poss 3P Sg Masc SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-detposs) (1 (Det Poss 3P) - Pl) ;
COPY:msyn-prep-detposs (Prep Poss 3P Sg Fem SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-detposs) (1 (Det Poss 3P) - Pl) ;
COPY:msyn-prep-detposs (Prep Poss 1P Pl SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-detposs) (1 (Det Poss 1P Pl)) ;
COPY:msyn-prep-detposs (Prep Poss 3P Pl SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-prep-detposs) (1 (Det Poss 3P Pl)) ;

##  A RULE TO LENITE NOUNS FOLLOWING A POSSESSIVE ADJECTIVE (e.g., MO CHARR, DO THEACH, A MHADRA)

ADD:msyn-lenition-after-possessive-adjective (&msyn-lenition-after-possessive-adjective) TARGET (Noun Com) IF (-1 Det +  MODOA)(NOT 0 Len) ;
COPY:msyn-lenition-after-possessive-adjective (Len &SUGGEST) EXCEPT (&msyn-lenition-after-possessive-adjective) TARGET (&msyn-lenition-after-possessive-adjective) ;
ADDRELATION:msyn-lenition-after-possessive-adjective ($2) (Det) FROM (1 Noun LINK 0 (&msyn-adj-nom-acc)) ;

#!! **ADD:msyn-h-after-fem-possessive-adjective**: rule to add h to noun following possessor

ADD:msyn-h-after-fem-possessive-adjective (&msyn-h-after-fem-possessive-adjective) TARGET (Noun Com) IF (-1 Det + Poss + 3P + Sg + Fem)(NOT 0 Len) ;
COPY:msyn-h-after-fem-possessive-adjective (hPref &SUGGEST) EXCEPT (&msyn-h-after-fem-possessive-adjective) TARGET (&msyn-h-after-fem-possessive-adjective) ;
ADDRELATION:msyn-h-after-fem-possessive-adjective ($2) (Noun) FROM (-1 Det LINK 0 (&msyn-adj-nom-acc)) ;

#!! ### RULE TO ADD LENITION TO NOUNS FOLLOWING PREPOSITIONS

ADD:msyn-ecl-after-prep1 (&msyn-ecl-after-prep1) TARGET (Noun Com Sg) OR (Noun Gen Sg) + <ComGen> IF
	(-1 Art)
	(-2 ECLIPSE-PREP + Prep + Simp)
	(0 ("<[bcfgpBCFGP].*>"r) LINK NOT 0 ("<[bcfgpBCFGP][hH].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

COPY:msyn-ecl-after-prep1 (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-prep1) OR (DefArt &msyn-ecl-after-prep1) OR (Len &msyn-ecl-after-prep1) TARGET (&msyn-ecl-after-prep1);
ADDRELATION:msyn-ecl-after-prep1 ($2) ECLIPSE-PREP FROM (*1 Noun LINK 0 &msyn-ecl-after-prep1);


#!! ### RULE TO LENITE VERBS AFTER THE NEGATIVE PARTICLE NÍ

ADD:msyn-lenition-after-ni (&msyn-lenition-after-ni) TARGET (Verb PresInd) OR (Verb VTI Vow PresInd Len) OR (Verb VD PresInd Len) OR (Verb PresInd Auto) OR (Verb FutInd) OR (Verb FutInd Auto) OR (Verb Cond) OR (Verb PastImp) IF
	(-1 (Part Vb Neg"+NG") OR (Part Vb Neg))
	(0 ("<[bcdfgmpstBCDFGMPST].*>"r))
	(NEGATE 0 ("<[aeilnoru].*>"r))
	(NEGATE 0 Len)
	(NEGATE 0 ("faigh" Verb))
	(NEGATE -1 (Part Vb NegQ));
COPY:msyn-lenition-after-ni (Len &SUGGEST) EXCEPT (&msyn-lenition-after-ni) TARGET (&msyn-lenition-after-ni) ;

## Ní ceannaíonn sí caife gach lá. # incorrect
#$ Ní cheannaíonn sí caife gach lá. # correct

#!! ### RULE TO LENITE VERBS IN THE PAST TENSE AFTER THE NEGATIVE PARTICLE NÍOR

ADD:msyn-lenition-after-nior (&msyn-lenition-after-nior) TARGET (Verb) IF (-1 (Part Vb Neg Past))(NEGATE 0 Len);
COPY:msyn-lenition-after-nior (Len &SUGGEST) EXCEPT (&msyn-lenition-after-nior) TARGET (&msyn-lenition-after-nior) ;


ADD:msyn-lenition-after-sa (&msyn-lenition-after-sa) TARGET (Noun) IF
	(-1 ("i" Prep Art Sg))
	(0 ("<[bcfgmpsBCFGMPS].*>"r))
	(NEGATE 0 ("<[s].*>"r) + Masc)
	(NEGATE 0 ("<st.*>"r) + Fem)
	(NEGATE 0 ("<sc.*>"r) + Fem)
       	(NEGATE 0 ("<se.*>"r) + Fem)
       	(NEGATE 0 ("<si.*>"r) + Fem)
     	(NEGATE 0 ("<sr.*>"r) + Fem);
COPY:msyn-lenition-after-sa (Len &SUGGEST) EXCEPT (&msyn-lenition-after-sa) TARGET (&msyn-lenition-after-sa) ;

ADD:msyn-san-before-vowel (&msyn-san-before-vowel) TARGET ("<sa>" "i" Prep Art Sg) IF
	(1 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(1 ("<fh.*>"r) OR ("<Fh.*>"r));
COPY:msyn-san-before-vowel ("<san>" "i" Prep Art Sg &SUGGEST) EXCEPT ("<sa>" "i" Prep Art Sg &msyn-san-before-vowel) TARGET (&msyn-san-before-vowel) ;


ADD:msyn-sna-before-plural (&msyn-sna-before-plural) TARGET ("i" Prep Art Sg) IF (1 (Noun Com Pl));
COPY:msyn-sna-before-plural ("i" Prep Art Pl &SUGGEST) EXCEPT (Prep Art Sg &msyn-sna-before-plural) TARGET (&msyn-sna-before-plural) ;

ADD:msyn-plural-after-sna (&msyn-plural-after-sna) TARGET (Noun Sg) IF (-1 ("i" Prep Art Pl));
COPY:msyn-plural-after-sna (Pl &SUGGEST) EXCEPT (Sg &msyn-plural-after-sna) TARGET (&msyn-plural-after-sna) ;


ADD:lex-de-haoine (&lex-de-haoine) TARGET ("Aoine" Fem Gen Sg) IF (-1 ("Dé" Subst Noun <ComGen> Sg))(NEGATE 0 (Noun Fem Gen Sg hPref)) ;
COPY:lex-de-haoine (hPref &SUGGEST) EXCEPT (&lex-de-haoine) TARGET (&lex-de-haoine) ;

ADD:lex-deardaoin (&lex-de-haoine) TARGET ("Dé" Subst Noun Sg) IF (1 ("Déardaoin")) ;
ADD:lex-deardaoin (&lex-de-haoine) TARGET ("Déardaoin") IF (-1 ("Dé" Subst Noun Sg)) ;
ADDRELATION:lex-deardaoin (DELETE1) (Noun &lex-dairire) TO (-1 (Subst Noun &lex-deardaoin)) ; # DEL from keep TO delete
COPY:lex-deardaoin ("Déardaoin" Noun Masc Com Sg SUGGEST) EXCEPT ("Dé" Subst Noun Sg) TARGET (Noun &lex-deardaoin);

LIST &msyn-gen-after-trasna = &msyn-gen-after-trasna ;

ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna) TARGET (Noun Com Sg) IF # DefArt) OR (Noun Fem Com Sg) IF
	#(*-2 (Noun Com) BARRIER NOT-A)
	(-2 ("trasna") OR ("Trasna"))
	(-1 (Art Def))
	(NEGATE 0 (Gen Sg))
	(NEGATE -3 (Art Def));
	#(NEGATE -3 (Verb VTI));
COPY:msyn-gen-after-trasna (Gen Sg DefArt SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-after-trasna) TARGET (&msyn-gen-after-trasna);


ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna) TARGET ("an" Art Sg Def) IF
	(-1 ("trasna") OR ("Trasna"))
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-noun-defart-noun));
COPY:msyn-gen-after-trasna ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-after-trasna) TARGET (Art &msyn-gen-after-trasna) IF (1 (Noun Fem));
COPY:msyn-gen-after-trasna ("na" Gen Sg Def Masc SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-after-trasna) TARGET (Art &msyn-gen-after-trasna) IF (1 (Noun Masc));

ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna ) TARGET (Noun Com Sg) IF # DefArt) OR (Noun Fem Com Sg) IF
	(-2 ("trasna") OR ("Trasna"))
	(-1 (Art Def))
	(NEGATE 0 (Gen Sg))
	(NEGATE -3 (Art Def));
	#(NEGATE -3 (Verb VTI));
COPY:msyn-gen-after-trasna (Gen Sg DefArt SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-after-trasna) TARGET (&msyn-gen-after-trasna);


ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna) TARGET ("an" Art Sg Def) IF
	(-1 ("trasna") OR ("Trasna"))
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-after-trasna));
COPY:msyn-gen-after-trasna ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-after-trasna) TARGET (Art &msyn-gen-after-trasna) IF (1 (Noun Fem));
COPY:msyn-gen-after-trasna ("na" Gen Sg Def Masc SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-after-trasna) TARGET (Art &msyn-gen-after-trasna) IF (1 (Noun Masc));


# Plural:  Trasna Art.com N.pl.com ==> N.com Art.gen N.pl.gen # Noun Masc Com Pl DefArt
ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna) TARGET (Noun Masc Com Pl DefArt) IF
	(-1 ("trasna") OR ("Trasna"))
	(-1 (Art Def))
	(NEGATE 0 (Gen Pl))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-after-trasna (Masc Gen Weak Pl DefArt SUGGEST) EXCEPT (Masc Com Pl DefArt &msyn-gen-after-trasna) TARGET (&msyn-gen-after-trasna);

ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna) TARGET (Noun Fem Com Pl DefArt) IF
	(-1 ("trasna") OR ("Trasna"))
	(-1 (Art Def))
	(NEGATE 0 (Gen Pl))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-after-trasna (Fem Gen Weak Pl DefArt SUGGEST) EXCEPT (Fem Com Pl DefArt &msyn-gen-after-trasna) TARGET (&msyn-gen-after-trasna);


# The article
ADD:msyn-gen-after-trasna (&msyn-gen-after-trasna) TARGET ("an" Art Pl Def) IF
	(-1 ("trasna") OR ("Trasna"))
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-noun-defart-noun));
COPY:msyn-gen-after-trasna ("na" Gen Pl Def Fem SUGGEST) EXCEPT ("an" Pl Def &msyn-gen-after-trasna) TARGET (Art &msyn-gen-after-trasna) IF (1 (Noun Fem));
COPY:msyn-gen-after-trasna ("na" Gen Pl Def Masc SUGGEST) EXCEPT ("an" Pl Def &msyn-gen-after-trasna) TARGET (Art &msyn-gen-after-trasna) IF (1 (Noun Masc));


ADD:msyn-plural-after-sna (&msyn-plural-after-sna) TARGET (Noun Sg) IF (-1 ("i" Prep Art Pl));
COPY:msyn-plural-after-sna (Pl &SUGGEST) EXCEPT (Sg &msyn-plural-after-sna) TARGET (&msyn-plural-after-sna) ;

ADD:msyn-lenition-after-aon (&msyn-lenition-after-aon) TARGET (Noun) IF
	(-1 ("aon"))
	(0 ("<[bcfgmpBCFGMP].*>"r));
COPY:msyn-lenition-after-aon (Len &SUGGEST) EXCEPT (&msyn-lenition-after-aon) TARGET (&msyn-lenition-after-aon) ;

#Caithfear a bheith airdeallach maidir leis na haidiachtaí taispeántacha ‘seo’ agus ‘sin’ a úsáid
#le réamhfhocail chomhshuite. Is é an tuiseal ginideach a leanann leithéidí ‘de bharr’, ‘de bhrí’, ‘in
#ainneoin’ agus ‘os coinne’ de ghnáth. Bíodh sin mar atá, ní féidir ‘seo’ agus ‘sin’ a infhilleadh. Botún
#atá ann a leithéid seo a scríobh: ‘de bharr sin’, ‘in ainneoin sin’ agus ‘os coinne sin’. Ina áit sin, ní mór
#an aidiacht shealbhach fhirinscneach sa tríú pearsa uatha a chur leo: ‘dá bharr sin’, ‘ina ainneoin sin’
#agus ‘os a choinne sin.’ Úsáidtear an aidiacht shealbhach sa tríú pearsa iolra chomh maith, de réir mar
#is cuí: ‘dá mbarr sin’, ‘ina n-ainneoin sin’ agus ‘os a gcoinne sin.’

#díriú isteach ar -> díriú ar

#i bliana -> i mbliana rule.
ADD:msyn-i-mbliana (&msyn-i-mbliana) TARGET ("bliain" Noun Fem Com Pl) - Ecl IF (-1 ("i" Prep Simp)) ;
COPY:msyn-i-mbliana (Ecl SUGGEST) EXCEPT (&msyn-i-mbliana) TARGET (&msyn-i-mbliana) ;
	## Beidh toghchán i mbliana.
	##de bharr sin - #$dá bharr sin

ADD:lex-da-bharr-sin (&lex-da-bharr-sin) TARGET ("an" Art Sg Def) IF (-1 ART-LEN-PREP + (Prep Cmpd))(1 (Noun Fem)) ;
COPY:lex-da-bharr-sin ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &lex-da-bharr-sin) TARGET (Art &lex-da-bharr-sin) IF (1 (Noun Fem)) ;


##in ainneoin sin - #$ina ainneoin sin

ADD:lex-ina-ainneoin-sin (&lex-ina-ainneoin-sin) TARGET ("i" Prep Simp Vow) IF
	(1 ("ainneoin"))
	(2 ("sin" Det Dem));
COPY:lex-ina-ainneoin-sin ("i" Prep Poss 3P Sg Masc SUGGEST) EXCEPT ("i" Prep Simp Vow) TARGET (Prep &lex-ina-ainneoin-sin);


##os coinne sin - #$os a choinne sin

ADD:lex-os-a-choinne-sin (&lex-os-a-choinne-sin) TARGET ("an" Art Sg Def) IF (-1 ART-LEN-PREP + (Prep Cmpd))(1 (Noun Fem)) ;
COPY:lex-os-a-choinne-sin ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &lex-os-a-choinne-sin) TARGET (Art &lex-os-a-choinne-sin) IF (1 (Noun Fem)) ;


##in ainneoin - #$d'ainneoin

ADD:lex-de-ainneoin (&lex-de-ainneoin) TARGET ("i" Prep Simp Vow) IF (1 ("ainneoin" Conj Subord));
#ADDRELATION:lex-de-ainneoin (DELETE1) (Conj &lex-de-ainneoin) TO (-1 (Prep &lex-de-ainneoin)) ;
COPY:lex-de-ainneoin ("d'ainneoin" Prep Cmpd SUGGEST) EXCEPT ("i" Prep Simp Vow) TARGET (Prep &lex-de-ainneoin);

#ADD:lex-de-ainneoin (&lex-de-ainneoin) TARGET ("i" Prep Simp Vow) IF (1 ("ainneoin"));
#ADD:lex-de-ainneoin (&lex-de-ainneoin) TARGET ("ainneoin") IF (-1 ("i" Prep Simp Vow));
#ADDRELATION:lex-de-ainneoin (DELETE1) (Noun &lex-de-ainneoin) TO (-1 (Prep &lex-de-ainneoin)) ; 		# DEL from keep TO delete
#COPY:lex-de-ainneoin ("d'ainneoin" Prep Cmpd SUGGEST) EXCEPT (Subst Noun Sg) TARGET (Prep &lex-de-ainneoin) ;

#!!  Template rule to delete A and modify B in A B strings:

##i ndáiríre -> #$dáiríre
ADD:lex-dairire (&lex-dairire) TARGET ("i" Prep) IF (1 ("dáiríre"));
ADD:lex-dairire (&lex-dairire) TARGET ("dáiríre" Ecl) IF (-1 ("i")) ;
ADDRELATION:lex-dairire (DELETE1) (Noun &lex-dairire) TO (-1 (Prep &lex-dairire)) ; # DEL from keep TO delete
COPY:lex-dairire ("dáiríre" Masc Com Sg SUGGEST) EXCEPT (Masc Com Sg Ecl) TARGET (Noun &lex-dairire);
	## I ndáiríre ní chaithfidh tú tada a rá.
	#$ Dáiríre ní chaithfidh tú tada a rá.


#!! ### rule to correct lenition (séimhiú) errors for nouns after certain prepositions

ADD:msyn-len-after-prep (&msyn-len-after-prep) TARGET (Noun Com) OR (Subst Noun) IF
	(NEGATE 0 Len)
	(-1 ART-LEN-PREP LINK NEGATE 0 (Det Poss))
	(NEGATE 0 (Noun Fem Com Len))
	(0 ("<[bcdfgmpstBCDFGMPST].*>"r)) ;
COPY:msyn-len-after-prep (Len SUGGEST) EXCEPT (&msyn-len-after-prep) TARGET (&msyn-len-after-prep) ;
ADDRELATION:msyn-len-after-prep ($2) (Prep) FROM (1 Noun LINK 0 (&msyn-len-after-prep)) ;
COPY:msyn-len-after-prep (Len SUGGEST) EXCEPT (Com &msyn-len-after-prep) BEFORE NUMBER TARGET (Noun &msyn-len-after-prep) ;


	# PREP N
	# ------
ADD:msyn-len-after-prep (&msyn-len-after-prep) TARGET (Noun Com Sg) OR (Noun Com Sg DefArt) IF
	(NEGATE 0 Len)
        (-1 ART-LEN-PREP + (Prep Simp) LINK NEGATE 0 (Det Poss))       			# one word to the left of the noun you TARGET is the word in LIST/SET ART-LEN-PREP and also has Prep and Simp tags
        (0 ("<[bcdfgmpstBCDFGMPST].*>"r))
        (NEGATE 0 Ecl);
    		## Thug sé buille de bata do an chaora. INCORRECT
    		#$ Thug sé buille de bhata don chaora. INCORRECT

	# PREP Art N
	# -----------
ADD:msyn-len-after-prep (&msyn-len-after-prep) TARGET (Noun Masc Com Sg) OR (Noun Masc Com Sg DefArt) IF
	(NEGATE 0 Len)
	(*-1 ("de" Prep Art Sg) OR ("do" Prep Art Sg) OR ("de" Prep Simp) OR ("do" Prep Simp) BARRIER (*) - Art)
    	(0 ("<[bcdfgmpstBCDFGMPST].*>"r))
    	(NEGATE 0 Ecl OR Len);
    		## Bain na torthaí de an crann. INCORRECT
    		#$ Bain na torthaí den chrann. CORRECT

COPY:msyn-len-after-prep (Len SUGGEST) EXCEPT (&msyn-len-after-prep) OR (Ecl &msyn-len-after-prep) OR (DefArt &msyn-len-after-prep) TARGET (&msyn-len-after-prep);
ADDRELATION:msyn-len-after-prep ($2) (Prep) FROM (2 Noun LINK 0 (&msyn-len-after-prep));

# Model for Trond, smn:	 2673 ADDRELATION:msyn-adj-nom-acc ($2) () FROM (-1 A LINK 0 (&msyn-adj-nom-acc)) ;


#!! ### rule to take away lenition for nouns after certain prepositions

LIST NO-LEN-AFTER-AR-N = "ball" "barr" "béal maidine" "bith" "bogadh" "buile" "cairde" "clé" "cnoc" "colbha" "corr" "cois" "cosa" "crith" "crochadh" "cuairt" "cúl" "deil" "deireadh" "deis" "díol" "doimhne" "doimhneacht" "fad" "fáil" "fán" "feadh" "fiar" "fiuchadh" "forbhás" "fónamh" "fuaidreamh" "fud" "gor" "machaire" "maidin" "malairt" "maos" "marcaíocht" "meitheal" "meisce" "muir" "sála" "seachrán" "sodar" "son" "srian" "tarraingt" "teachtaireacht" "teaghrán" "tí" "tír" "tiús" "tosach" "triomú" "tuarastal";

LIST NO-LEN-AFTER-THAR-N = "barr" "bóchna" "bráid" "bord" "ceann" "cionn" "claí" "cnoc" "cuimse" "droichead" "fóir" "fulaingt" "meán" "míde" "modh" "muir" "paróiste" "sáile" "sliabh" "smacht" "tír" "toinn" ;


ADD:msyn-no-len-after-prep (&msyn-no-len-after-prep) TARGET (Noun Com Sg Len) IF (-1 ("ar" Prep Simp))(0 NO-LEN-AFTER-AR-N) (NEGATE *1 (Noun Gen) BARRIER (*) - Art) (NEGATE *1 (Noun Gen) BARRIER (*) - Art)(NEGATE 0 ("cúl") LINK -1 ("ar"));
ADD:msyn-no-len-after-prep (&msyn-no-len-after-prep) TARGET (Noun Com Sg Len) IF (-1 ("thar" Prep Simp))(0 NO-LEN-AFTER-THAR-N) (NEGATE *1 (Noun Gen) BARRIER (*) - Art);

COPY:msyn-no-len-after-prep (SUGGEST) EXCEPT (Len &msyn-no-len-after-prep) TARGET (&msyn-no-len-after-prep);
ADDRELATION:msyn-no-len-after-prep ($2) (Prep) FROM (2 Noun LINK 0 (&msyn-no-len-after-prep));

	## Tá fiche duine ar mheitheal.
	#$ Tá fiche duine ar meitheal.
	## Tá mo chara ar mheisce.
	#$ Ar mhuir na beatha.
	## Tá an ceol sin thar bharr.
	#$ Tá an ceol sin thar barr.


#!! ### Rules for lenition

#        (NEGATE 0 ("<[s].*>"r) + Masc)
#        (NEGATE 0 ("<st.*>"r) + Fem)
#        (NEGATE 0 ("<se.*>"r) + Fem)
#        (NEGATE 0 ("<si.*>"r) + Fem)
#        (NEGATE 0 ("<sr.*>"r) + Fem)

	## Tá an dochtúir ina sheasamh ag an fuinneog mhór.
    	#$ Tá an dochtúir ina sheasamh ag an bhfuinneog mhór. Verb VI FutInd Ecl  NACH NegQ Ecl


ADD:msyn-ecl-after-prep2 (&msyn-ecl-after-prep2) TARGET (Noun Com Sg) OR (Noun Gen Sg) + <ComGen> IF
	(-1 Art)
	(-2 ECLIPSE-PREP + Prep + Simp)
	(0 ("<[bcfgpBCFGP].*>"r) LINK NOT 0 ("<[bcfgpBCFGP][hH].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

COPY:msyn-ecl-after-prep2 (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-prep2) OR (DefArt &msyn-ecl-after-prep2) OR (Len &msyn-ecl-after-prep2) TARGET (&msyn-ecl-after-prep2);
ADDRELATION:msyn-ecl-after-prep2 ($2) ECLIPSE-PREP FROM (*1 Noun LINK 0 &msyn-ecl-after-prep2);

	## Bainne a chur ar an caife.
	#$ Bainne a chur ar an gcaife.

ADD:msyn-ecl-after-prep3 (&msyn-ecl-after-prep3) TARGET (Noun Com) OR (Noun Gen) + <ComGen> IF
	(*-1 (Prep Art Sg) - ("de") - ("do") - ("i") BARRIER (*) - Art)
	(0 ("<[bcdfgpsBCDFGPS].*>"r) LINK NOT 0 ("<[bcfgpBCFGP][hH].*>"r))
	(NEGATE -1 ("de" Prep Art Sg) OR ("do" Prep Art Sg))
	(NOT 0 Ecl OR ECL-NON-ECL-N) ;

	## Tá an mála faoi an bord.
	#$ Tá an mála faoin mbord.
	#$ Tá sé i a shuí sa charr.
	# KEVIN: the analyzer still sees the deleted word one to the left

COPY:msyn-ecl-after-prep3 (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-prep3) OR (DefArt &msyn-ecl-after-prep3) OR (Len &msyn-ecl-after-prep3) TARGET (&msyn-ecl-after-prep3);
#ADDRELATION:msyn-ecl-after-prep3 ($2) ECLIPSE-PREP FROM (*1 Noun LINK 0 &msyn-ecl-after-prep3);


	## Tá bainisteoir nua ar an banc. # wrong
	## Tá bainisteoir nua thar an banc. # wrong
	## Tá bainisteoir nua ar an mbanc. # ok

COPY:msyn-ecl-after-prep (Com Sg Ecl SUGGEST) EXCEPT (Gen Sg &msyn-ecl-after-prep) OR (Gen Sg DefArt &msyn-ecl-after-prep) OR (Gen Sg Len &msyn-ecl-after-prep) TARGET (Gen &msyn-ecl-after-prep);

ADD:msyn-ecl-after-prep5 (&msyn-ecl-after-prep5) TARGET (Noun Com Sg) OR (Noun Com Sg DefArt) IF
        (-1 ECLIPSE-PREP + (Prep Simp))
        (0 ("<[bcdfgpsBCDFGPS].*>"r))
        (NEGATE 0 Ecl)
        (NEGATE *1 (Noun Gen) BARRIER (*) - Art);
COPY:msyn-ecl-after-prep5 (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-prep5) OR (DefArt &msyn-ecl-after-prep5) OR (Len &msyn-ecl-after-prep5) TARGET (&msyn-ecl-after-prep5);


ADD:msyn-ecl-after-prep6 (&msyn-ecl-after-prep6) TARGET (Noun Com Sg) OR (Noun Com Sg DefArt) IF
        (-1 ECLIPSE-PREP + (Prep Simp))
        (0 ("<[bcdfgpsBCDFGPS].*>"r))
        (NEGATE 0 Ecl)
        (NEGATE *1 (Noun Gen) BARRIER (*) - Art);
COPY:msyn-ecl-after-prep6 (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-prep6) OR (DefArt &msyn-ecl-after-prep6) TARGET (&msyn-ecl-after-prep6);

ADD:msyn-ecl-after-da (&msyn-ecl-after-da) TARGET (Verb) IF
	(-1 (Conj Subord))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-da (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-da) TARGET (&msyn-ecl-after-da);

ADD:msyn-ecl-after-go (&msyn-ecl-after-go) TARGET (Verb) - Ecl IF
	(-1 ("go") or ("Go"))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-go (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-go) TARGET (&msyn-ecl-after-go);

## compound of preposition "de" and particle "a" used with abstract nouns denoting degree. (Lenites)
ADD:msyn-len-after-da (&msyn-len-after-da) TARGET (Noun Com) IF
	(-1 ("de" Prep Rel))
	(0 ("<[bcdfgpstBCDFGPST].*>"r));
COPY:msyn-len-after-da (Len SUGGEST) EXCEPT (&msyn-len-after-da) TARGET (&msyn-len-after-da);

	## Dá donacht iad
	#$ Dá dhonacht iad
	## Dá túisce dá dtiocfaidh sé
	#$ Dá thúisce dá dtiocfaidh sé (focus on the first dá causing lenition.)
	## Dá teocht an aimsir
	#$ Dá theocht an aimsir

ADD:msyn-len-after-ma (&msyn-len-after-ma) TARGET (Verb) IF
	(-1 ("má") OR ("Má"))
	(0 ("<[bcdfgpstBCDFGPST].*>"r));
COPY:msyn-len-after-ma (Len SUGGEST) EXCEPT (&msyn-len-after-ma) TARGET (&msyn-len-after-ma);

#ADD:lex-conj-plus-copula (&lex-conj-plus-copula) TARGET (Cop Pres) IF (-1 (Conj Subord));
#ADD:lex-conj-plus-copula (&lex-conj-plus-copula) TARGET (Conj Subord) IF (1 (Cop));
#ADDRELATION:lex-conj-plus-copula (DELETE1) (Conj Subord &lex-conj-plus-copula) TO (1 (Cop Pres &lex-conj-plus-copula)) ;
#COPY:lex-conj-plus-copula (Cop SUGGEST) EXCEPT (Cop Pres) TARGET (&lex-conj-plus-copula);

	# Need to change the rule to exclude "sin" Cop Pro Dem

	##ag leibhéal to ar leibhéal - change Prep Simp "ag" to "ar".

ADD:lex-ar-leibheal (&lex-ar-leibheal) TARGET ("ag" Prep Simp) IF (1 ("leibhéal") OR ("leibhéil")) ;
COPY:lex-ar-leibheal ("ar" Prep Simp SUGGEST) EXCEPT ("ag" Prep Simp) TARGET (Simp &lex-ar-leibheal) ;

ADD:msyn-ecl-after-mura (&msyn-ecl-after-mura) TARGET (Verb PresInd) OR (Verb VI FutInd) OR (Verb VI Cond CM) OR (Verb PresImp) IF
	(-1 ("mura") OR ("Mura"))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-mura (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-mura) TARGET (&msyn-ecl-after-mura);

ADD:msyn-ecl-after-mura (&msyn-ecl-after-mura) TARGET (Verb PresImp) IF
	(-1 ("mura") OR ("Mura"))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-mura (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-mura) TARGET (&msyn-ecl-after-mura);

ADD:msyn-ecl-after-mura (&msyn-ecl-after-mura) TARGET (Verb VI Cond CM) IF
	(-1 ("mura") OR ("Mura"))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-mura (Cond CM SUGGEST) EXCEPT (&msyn-ecl-after-mura) TARGET (&msyn-ecl-after-mura);

ADD:msyn-ecl-after-nach (&msyn-ecl-after-nach) TARGET (Verb) IF
	(-1 ("nach"))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-nach (Q Ecl SUGGEST) EXCEPT (&msyn-ecl-after-nach) TARGET (&msyn-ecl-after-nach);

## Rule for eclipse after "an" Part Vb Q.

ADD:msyn-ecl-after-verb-particle-q (&msyn-ecl-after-verb-particle-q) TARGET (Verb) IF
	(-1 ("ar" Part Vb Q))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-verb-particle-q (Q Ecl SUGGEST) EXCEPT (&msyn-ecl-after-verb-particle-q) TARGET (&msyn-ecl-after-verb-particle-q);

#Ar cheannaigh tú é? "ar" Part Vb Q Past

ADD:msyn-len-after-verb-particle-q-past (&msyn-len-after-verb-particle-q-past) TARGET (Verb) IF
	(-1 (Part Vb Q Past))
	(NEGATE -1 ("ar" Prep Simp))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-len-after-verb-particle-q-past (PastInd Len SUGGEST) EXCEPT (&msyn-len-after-verb-particle-q-past) TARGET (&msyn-len-after-verb-particle-q-past);

##A rule to lenite nouns beginning with the letters CDFGST after the preposition "thar".

ADD:msyn-lenition-after-thar (&msyn-lenition-after-thar) TARGET (Noun) IF
	(-1 ("thar") OR ("Thar"))
	(NEGATE 0 NO-LEN-AFTER-THAR-N)
	(NEGATE *1 (Noun Gen) BARRIER (*) - Art);
COPY:msyn-lenition-after-thar (Len SUGGEST) EXCEPT (&msyn-lenition-after-thar) TARGET (&msyn-lenition-after-thar);
ADDRELATION:msyn-lenition-after-thar ($2) (Prep) FROM (2 Noun LINK 0 (&msyn-lenition-after-thar));

##A rule to lenite nouns beginning with the letters CDFGST after the preposition "um".
ADD:msyn-lenition-after-um (&msyn-lenition-after-um) TARGET (Noun) IF
	(-1 ("um") OR ("Um"))
	(0 ("<[cdfgstCDFGST].*>"r));
COPY:msyn-lenition-after-um (Len SUGGEST) EXCEPT (&msyn-lenition-after-um) TARGET (&msyn-lenition-after-um);

#tríd an
## Agus bí liom anois trí an lá seo.
#$ Agus bí liom anois tríd an lá seo.

##a rule to correct the error "trí an mbord" to "tríd an mbord".

ADD:msyn-tri-plus-defart (&msyn-tri-plus-defart) TARGET ("trí" Prep Simp) IF (1 ("an" Art Sg Def) LINK NOT 0 ("<a>"));
COPY:msyn-tri-plus-defart (Pron Prep 3P Sg Masc SUGGEST) EXCEPT (Prep Simp) TARGET (&msyn-tri-plus-defart);

##a rule to correct the error "tríd an bord" to "tríd an mbord", "tríd an geata" to "tríd an ngeata", etc. !!The rule has to be refined to fix "tríd an tsrón", etc., (feminine nouns beginning with S)!!

ADD:msyn-ecl-after-trí-defart (&msyn-ecl-after-trí-defart) TARGET (Noun Com Sg) OR (Noun Gen Sg) + <ComGen> IF
	(-1 Art)
	(-2 ECLIPSE-TRID + Prep + Simp)
	(0 ("<[bcfgpsBCFGPS].*>"r) LINK NOT 0 ("<[bcfgpsBCFGPS][hH].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N) ;
ADDRELATION:msyn-ecl-after-trí-defart ($2) ECLIPSE-TRID FROM (*1 Noun LINK 0 &msyn-ecl-after-trí-defart);
COPY:msyn-ecl-after-trí-defart (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-trí-defart) OR (DefArt &msyn-ecl-after-trí-defart) OR (Len &msyn-ecl-after-trí-defart) TARGET (&msyn-ecl-after-trí-defart);


## Bhí mé ag labhairt le an fear.
#$ Bhí mé ag labhairt leis an bhfear.

ADD:msyn-le-plus-defart (&msyn-le-plus-defart) TARGET ("le" Prep Simp) IF (1 (Art) LINK NOT 0 ("<a>"));
COPY:msyn-le-plus-defart (Pron Prep 3P Sg Masc SUGGEST) EXCEPT (Prep Simp) TARGET (&msyn-le-plus-defart);


##a rule to correct the error "le an bord" to "leis an mbord", "le an fear" to "leis an bhfear", etc.

ADD:msyn-ecl-after-le-plus-defart (&msyn-ecl-after-le-plus-defart ) TARGET (Noun Com Sg) OR (Noun Gen Sg) + <ComGen> IF
	(-1 Art)
	(-2 ECLIPSE-LEIS + Prep + Simp)
	(0 ("<[bcfgpsBCFGPS].*>"r) LINK NOT 0 ("<[bcfgpsBCFGPS][hH].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N) ;
COPY:msyn-ecl-after-le-plus-defart (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-le-plus-defart) OR (DefArt &msyn-ecl-after-le-plus-defart) OR (Len &msyn-ecl-after-le-plus-defart) TARGET (&msyn-ecl-after-le-plus-defart);


# Valency errors
# "teastaigh" Verb + "ó"

#!! **ADD:msyn-teastaigh-ó**: exchange pronoun with the preposition "ó" when following "teastaigh" IT WORKS

ADD:msyn-teastaigh-ó (&msyn-teastaigh-ó) TARGET (Pron Pers) IF (NOT 0 ("ó" Prep))(*-1 ("teastaigh") BARRIER (*) - (Noun Com)) ;
COPY:msyn-teastaigh-ó ("ó" Prep SUGGEST) EXCEPT ("mé" Pers &msyn-teastaigh-ó) OR ("tú" Pers &msyn-teastaigh-ó) OR ("é" Pers &msyn-teastaigh-ó) OR ("sé" Pers &msyn-teastaigh-ó) OR ("í" Pers &msyn-teastaigh-ó) OR ("sí" Pers &msyn-teastaigh-ó) OR ("sinn" Pers &msyn-teastaigh-ó) OR ("muid" Pers &msyn-teastaigh-ó) OR ("sibh" Pers &msyn-teastaigh-ó) OR ("siad" Pers &msyn-teastaigh-ó) AFTER Pron TARGET (&msyn-teastaigh-ó) ;

	## Teastaíonn mé. - incorrect - Pron Pers
	#$ Teastaíonn uaim. - correct - Pron + Prep
	#$ Teastaíonn mála uaim.
	## Teastaíonn mála mé.

#!! **ADD:msyn-inis-do** ...

ADD:msyn-inis-do (&msyn-inis-do) TARGET (Prep Prep Rel) IF (NOT 0 ("do" Prep))(*-1 ("inis") BARRIER (*) - (Noun Com)) ;
COPY:msyn-inis-do ("do" Prep SUGGEST) EXCEPT ("mé" Pers &msyn-inis-do) OR ("tú" Pers &msyn-inis-do) OR ("é" Pers &msyn-inis-do) OR ("í" Pers &msyn-inis-do) OR ("sinn" Pers &msyn-inis-do) OR ("muid" Pers &msyn-inis-do) OR ("sibh" Pers &msyn-inis-do) OR ("siad" Pers &msyn-inis-do) AFTER Pron TARGET (&msyn-inis-do) ;

LIST SCALE-WORDS = "buí" ;

SET NOT-SCALE-WORDS =  (*) - SCALE-WORDS ;

# "fada" A + "ó"  Is fada buí ó am scoir é

#!! **ADD:msyn-fada-o** ...

ADD:msyn-fada-o (&msyn-fada-o) TARGET (Pron Pers) IF (NOT 0 ("ó" Prep))(*-1 ("fada" Adj) BARRIER NOT-SCALE-WORDS LINK *-1 ("is")) ;
COPY:msyn-fada-o ("ó" Prep Simp SUGGEST) EXCEPT ("mé" Pron Pers 1P Sg &msyn-fada-o) OR ("tú" Pron Pers 2P Sg &msyn-fada-o) OR ("é" Pron Pers 3P Sg Masc &msyn-fada-o) OR ("í" Pers Pers 1P Sg Fem &msyn-fada-o) OR ("sinn" Pers Pers 1P Pl &msyn-fada-o) OR ("sibh" Pers Pers 2P Pl &msyn-fada-o) OR ("siad" Pron Pers 3P Pl Sbj &msyn-fada-o) AFTER Pron TARGET (&msyn-fada-o) IF (NEGATE 1 (Verb PastInd));

	## Is fada buí mé. - incorrect
	#$ Is fada buí uaim. - correct
	## Is fada buí é.
	## Is fada buí iad.
	## Is fada mé bhí mise i mo mhac léinn.
	#$ Is fada ó bhí mise i mo mhac léinn.

#!! **ADD:msyn-beag-is-fiu-de** "beag is fiú de" A + "de"

ADD:msyn-beag-is-fiu-de (&msyn-beag-is-fiu-de) TARGET (Pron Pers) IF (NOT 0 ("de" Prep))(*-1 ("beag is fiú de" Adj) BARRIER (*) - SCALE-WORDS LINK *-1 ("is")) ;
COPY:msyn-beag-is-fiu-de ("de" Prep SUGGEST) EXCEPT ("dom" Pers &msyn-beag-is-fiu-de) OR ("duit" Pers &msyn-beag-is-fiu-de) OR ("dó" Pers &msyn-beag-is-fiu-de) OR ("di" Pers &msyn-beag-is-fiu-de) OR ("dúinn" Pers &mmsyn-beag-is-fiu-de) OR ("daoibh" Pers &msyn-beag-is-fiu-de) OR ("dóibh" Pers Sbj &msyn-beag-is-fiu-de) AFTER Pron TARGET (&msyn-beag-is-fiu-de) IF (NEGATE 1 (Verb PastInd));
	## Ná déan beag is fiú dom. - incorrect
	#$ Ná déan beag is fiú díom. - correct

COPY:msyn-fada-o ("ó" Prep Simp SUGGEST) EXCEPT ("mé" Pron Pers 1P Sg &msyn-teastaigh-ó) OR ("tú" Pers Pers 2P Sg &msyn-teastaigh-ó) OR ("é" Pers Pers 3P Sg Masc &msyn-teastaigh-ó) OR ("í" Pers Pers 1P Sg Fem &msyn-teastaigh-ó) OR ("sinn" Pers Pers 1P Pl &msyn-teastaigh-ó) OR ("sibh" Pers Pers 2P Pl &msyn-teastaigh-ó) OR ("siad" Pron Pers 3P Pl Sbj &msyn-teastaigh-ó) TARGET (&msyn-fada-o) IF (1 (Verb PastInd));


#!! **ADD:msyn-cúpla-plnoun-sgnoun** ..

#!! ### RULE TO CORRECT PLURAL NOUNS AFTER THE WORD CÚPLA AS THE NOUN AFTER CÚPLA SHOULD BE IN THE SINGULAR FORM. !!IT WORKS!!

ADD:msyn-cúpla-plnoun-sgnoun (&msyn-cúpla-plnoun-sgnoun) TARGET (Noun Com Pl) IF (-1 ("cúpla" Det Qty) OR ("cúpla" Noun Masc Com Sg Len)) ;
COPY:msyn-cúpla-plnoun-sgnoun (Sg SUGGEST) EXCEPT (Pl &msyn-cúpla-plnoun-sgnoun) TARGET (&msyn-cúpla-plnoun-sgnoun);

	## Cúpla laethanta. - incorrect
	#$ Cúpla lá. - correct
	## Cúpla focail. - incorrect
	#$ Cúpla focal. - correct

	# nouns in genitive after compound prepositions

#ADD:msyn-com-case-nouns (&msyn-com-case-nouns) TARGET (Noun Gen) IF (-1 ("an" Art Sg Def));
#COPY:msyn-com-case-nouns (Com Sg DefArt SUGGEST) EXCEPT (Gen Sg DefArt &msyn-com-case-nouns) TARGET (&msyn-com-case-nouns);
#ADD:msyn-gen-noun-noun (&msyn-gen-noun-noun) TARGET (Noun Com) IF (*-1 (Prep Cmpd) BARRIER (*) - Art)(NEGATE 0 (Gen Sg))(NEGATE 0 WORD-BEGIN-NO-LEN - Fem LINK -1 WORD-END-NO-LEN);

#ADD:msyn-gen-noun-noun (&msyn-gen-noun-noun) TARGET (Noun Com) OR (Noun Gen Weak Pl) - Ecl - DefArt OR (Noun Masc Gen Sg hPref) IF
#	(*-1 (Noun Com) OR (Verbal Noun VTI) BARRIER (*) - Art OR (Prep Art) LINK NEGATE -1 (Art Sg Def))
#	(NEGATE 0 (Gen Sg))
#	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
#	(NEGATE -2 (Verb VTI));


#!! #### Genitive rule 1. Noun + Noun => Noun + Noun.Gen
#        ===============================================

LIST MODIFYERNOUN = "cuid" "cúpla" ;
LIST MODIFYERPROP = "ainm" "príomhchathair" ;

ADD:msyn-gen-noun-noun (&msyn-gen-noun-noun) TARGET (Noun Com) IF
	(-1 (Noun Com) LINK NEGATE 0 (Num Card))
	(NEGATE 0 Gen)
	(NEGATE 0 Prop LINK -1 Noun LINK 2 Noun OR Abr)
	(NEGATE 0 Prop LINK -1 Prop OR Foreign)
	(NEGATE 0 Prop LINK -1 MODIFYERPROP);
COPY:msyn-gen-noun-noun (Gen Sg SUGGEST) EXCEPT (Com Sg &msyn-gen-noun-noun) TARGET (&msyn-gen-noun-noun) ;
COPY:msyn-gen-noun-noun (Gen Pl SUGGEST) EXCEPT (Com Pl &msyn-gen-noun-noun) TARGET (&msyn-gen-noun-noun) ;

	## teach scoil > #$teach scoile
	## bosca bruscar > #$ bosca bruscair.
	## ceadúnas tiomáint > #$ ceadúnas tiomána.

#!! #### Genitive rule 2. Noun DefArt Noun => Noun DefArt Noun.Gen
#        =========================================================

# Singular N.com Art.com N.sg.com ==> N.com Art.gen N.sg.gen

ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET (Noun Com Sg) IF # DefArt) OR (Noun Fem Com Sg) IF
	(*-2 (Noun Com) BARRIER NOT-A)
	(-1 (Art Def))
	(NEGATE 0 (Gen Sg))
	(NEGATE -3 (Art Def));
	#(NEGATE -3 (Verb VTI));
COPY:msyn-gen-noun-defart-noun (Gen Sg DefArt SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-noun-defart-noun) TARGET (&msyn-gen-noun-defart-noun);


ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET ("an" Art Sg Def) IF
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-noun-defart-noun));
COPY:msyn-gen-noun-defart-noun ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-noun-defart-noun) TARGET (Art &msyn-gen-noun-defart-noun) IF (1 (Noun Fem));
COPY:msyn-gen-noun-defart-noun ("na" Gen Sg Def Masc SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-noun-defart-noun) TARGET (Art &msyn-gen-noun-defart-noun) IF (1 (Noun Masc));

## Tá barr an fhuinneog ar oscailt.  # Art N in Com
#$ Tá barr na fuinneoige ar oscailt. # Art N in Gen
#$ Seomra an fear
## Seomra an fhir

# Plural:  N.com Art.com N.pl.com ==> N.com Art.gen N.pl.gen # Noun Masc Com Pl DefArt
ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET (Noun Masc Com Pl DefArt) IF
	(-2 (Noun Com))
	(-1 (Art Def))
	(NEGATE 0 (Gen Pl))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-noun-defart-noun (Masc Gen Weak Pl DefArt SUGGEST) EXCEPT (Masc Com Pl DefArt &msyn-gen-noun-defart-noun) TARGET (&msyn-gen-noun-defart-noun);

# The fia rule (fianna is lookalike for plural com of FIANN and plural genitive of FIA)
ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET ("fia" Noun Masc Gen Strong Pl) IF
	(-2 (Noun Com))
	(-1 (Art Def))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-noun-defart-noun ("fiann" Noun Fem Gen Weak Pl DefArt SUGGEST) EXCEPT ("fia" Noun Masc Gen Strong Pl DefArt &msyn-gen-noun-defart-noun) TARGET ("fia" &msyn-gen-noun-defart-noun);


ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET (Noun Fem Com Pl DefArt) IF
	(-2 (Noun Com))
	(-1 (Art Def))
	(NEGATE 0 (Gen Pl))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-noun-defart-noun (Fem Gen Weak Pl DefArt SUGGEST) EXCEPT (Fem Com Pl DefArt &msyn-gen-noun-defart-noun) TARGET (&msyn-gen-noun-defart-noun);


# The article
ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET ("an" Art Pl Def) IF
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-noun-defart-noun));
COPY:msyn-gen-noun-defart-noun ("na" Gen Pl Def Fem SUGGEST) EXCEPT ("an" Pl Def &msyn-gen-noun-defart-noun) TARGET (Art &msyn-gen-noun-defart-noun) IF (1 (Noun Fem));
COPY:msyn-gen-noun-defart-noun ("na" Gen Pl Def Masc SUGGEST) EXCEPT ("an" Pl Def &msyn-gen-noun-defart-noun) TARGET (Art &msyn-gen-noun-defart-noun) IF (1 (Noun Masc));

#$ Seomra na fir  # men.pl.com room
## Seomra na bhfear # men.sg.ecl room where sg.ecl is gramtrad for pl.gen
#$ Seomra na mná  # women.pl.com room
## Seomra na mban # women.sg.ecl room where sg.ecl is gramtrad for pl.gen

#$ Tá doirse na teach ar oscailt.
#$ Tá doirse na tithe ar oscailt.
## Tá doirse na dteach ar oscailt. # teach+Noun+Masc+Com+Sg+Ecl

# Addrelation for singular and plural
ADDRELATION ($2 LEFT) (&msyn-gen-noun-defart-noun) TO (-1 (Art &msyn-gen-noun-defart-noun));
SUBSTITUTE (&msyn-gen-noun-defart-noun) (co&msyn-gen-noun-defart-noun) TARGET (SUGGEST);

# Old rule (rule with old tag)
#ADD:msyn-gen-noun-defart-noun (&msyn-gen-noun-defart-noun) TARGET (Noun Com) IF
#	(-2 (Noun Com))
#	(-1 (Art Def))
#	(NEGATE 0 (Gen Sg))
#	(NEGATE -3 (Verb VTI));
#COPY:msyn-gen-noun-defart-noun (Gen Pl SUGGEST) EXCEPT (Com Pl &msyn-gen-noun-defart-noun) TARGET (&msyn-gen-noun-defart-noun) ;

#!! #### Genitive rule 3. Noun DetPoss Noun

#!! A RULE TO CHANGE THE NOUN AFTER A NOUN AND A POSSESIVE ADJECTIVE TO THE GENITIVE CASE.
#!! Note: Rule says target is Noun.Com + Det.Poss + Noun.Com, and changes the final noun.

ADD:msyn-gen-noun-detpss-noun (&msyn-gen-noun-detpss-noun) TARGET (Noun Com) IF (-1 (Det Poss) LINK NOT 0 &msyn-prep-pron)(-2 (Noun Com))(NEGATE 0 Prop);
	## Tá Murphy cairdiúil leis na comhaisteoirí Éireannacha Colin Farrell agus Liam Neeson agus tugann sé urraim do {Neeson} mar athair ionaid i saol na scannáin.
COPY:msyn-gen-noun-detpss-noun (Gen Sg Len SUGGEST) EXCEPT (Com Sg &msyn-gen-noun-detpss-noun) OR (Com Sg Len &msyn-gen-noun-detpss-noun) TARGET (&msyn-gen-noun-detpss-noun);
ADDRELATION:msyn-gen-noun-detpss-noun ($2) Noun + Com FROM (2 Noun LINK 0 &msyn-possadj-nom-gen);

	## carr a athair - incorrect
	#$ carr a athar - correct
	## eagla a chraiceann - incorrect
	#$ eagla a chraicinn - correct
	## doras mo theach - incorrect
	#$ doras mo thí - correct

#!! #### Genitive rule 4 N A

ADD:msyn-gen-noun-adj (&msyn-gen-noun-adj) TARGET (Adj Com Sg DefArt) IF
	(-1 (Noun Com))
	(-2 (Art Def))
	(NEGATE 0 (Gen Sg))
	(NEGATE -4 (Verb VTI));
COPY:msyn-gen-noun-adj (Gen Sg DefArt SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-noun-adj) TARGET (&msyn-gen-noun-adj);

##  Príomhoide an scoil beag.  # msyn-gen-noun-defart-noun-adj
#$  Príomhoide na scoile bige

# --- This is jacket of.the boy tall > this is jacket of.the boy.gen tall.genFem+Gen+Sg
ADD:msyn-gen-noun-adj (&msyn-gen-noun-adj) TARGET (Adj Masc Com Sg) IF (NEGATE 0 Gen)(-1 (Noun &msyn-gen-noun-defart-noun) OR (Adj));
COPY:msyn-gen-noun-adj (Gen Sg Len SUGGEST) EXCEPT (Com Sg Len &msyn-gen-noun-adj) TARGET (Adj &msyn-gen-noun-adj);
ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun) OR (Adj)); # but the tags should be identical
#ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun &msyn-gen-noun-defart-noun) OR (Adj)); # but the tags should be identical

# --- This is jacket of.the girl tall > this is jacket of.the girl.gen tall.genFem+Gen+Sg
ADD:msyn-gen-noun-adj (&msyn-gen-noun-adj) TARGET (Adj Fem Com Sg) IF (NEGATE 0 Gen)(NEGATE 0 Len)(-1 (Noun &msyn-gen-defart-noun));
COPY:msyn-gen-noun-adj (Gen Sg SUGGEST) EXCEPT (Com Sg &msyn-gen-noun-adj) TARGET (Adj &msyn-gen-noun-adj);
ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun));
#ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun &msyn-gen-case-nouns));

# --- # This is jacket of the girl tall > this is jacket of.the girl.gen tall.genFem+Gen+Sg
ADD:msyn-gen-noun-adj (&msyn-gen-noun-adj) TARGET (Adj Fem Com Sg Len) IF (NEGATE 0 Gen)(-1 (Noun &msyn-gen-defart-noun));
COPY:msyn-gen-noun-adj (Gen Sg SUGGEST) EXCEPT (Com Sg Len &msyn-gen-noun-adj) TARGET (Adj &msyn-gen-noun-adj);
ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun));
#ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun &msyn-gen-case-nouns));

ADD:msyn-gen-noun-adj (&msyn-gen-noun-adj) TARGET (Adj Base) IF (NEGATE 0 Gen)(-1 (Noun Masc Sg &msyn-gen-defart-noun));
COPY:msyn-gen-noun-adj (Len SUGGEST) EXCEPT (&msyn-gen-noun-adj) TARGET (Adj Base &msyn-gen-noun-adj);
ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun));
#ADDRELATION ($2 LEFT) (&msyn-gen-noun-adj) TO (-1 (Noun &msyn-gen-case-nouns));

# --- # ... and the same in plural
ADD:msyn-gen-case-nouns (&msyn-gen-case-nouns) TARGET (Adj Com Pl) IF (NEGATE 0 Gen)(-1 (Noun &msyn-gen-case-nouns));
COPY:msyn-gen-case-nouns (Gen Pl Len SUGGEST) EXCEPT (Com Pl Len &msyn-gen-case-nouns) TARGET (Adj &msyn-gen-case-nouns);
ADDRELATION ($2 LEFT) (&msyn-gen-case-nouns) TO (-1 (Noun &msyn-gen-case-nouns));

#!! #### Genitive rule 5. Verbal noun + noun e.g., ag scríobh an litir > ag scríobh na litreach VN NOUN ART NOUN.Com > VN Noun Art.Gen Noun.Gen

	## ag scríobh litir INCORRECT
	#$ ag scríobh litreach CORRECT
	## ag glanadh an t-urlár INCORRECT
	#$ ag glanadh an urláir. CORRECT
	## ag glanadh an fhuinneog INCORRECT.
	#$ ag glanadh na fuinneoige CORRECT.

ADD:msyn-gen-vn-noun-with-article (&msyn-gen-vn-noun-with-article) TARGET ("an" Art Sg Def) IF (NEGATE 0 Gen)(1 (Noun &msyn-gen-vn-noun-with-article));
COPY:msyn-gen-vn-noun-with-article ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-vn-noun-with-article) TARGET (Art &msyn-gen-vn-noun-with-article) IF (1 (Noun Fem));
ADDRELATION ($2 LEFT) (&msyn-gen-vn-noun-with-article) TO (-1 (Art &msyn-gen-vn-noun-with-article));
SUBSTITUTE (&msyn-gen-vn-noun-with-article) (&msyn-gen-noun-with-article) TARGET (SUGGEST);

## with article "ag scríobh na litreach".

ADD:msyn-gen-vn-noun-with-article (&msyn-gen-vn-noun-with-article) TARGET (Noun Com) IF
	(*-1 (Verbal Noun VTI) BARRIER (*) - Art OR (Prep Art) LINK -1 ("ag")) 		#LINK NEGATE -1 (Art Sg Def))
	(NEGATE 0 (Gen Sg))
	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
	(NEGATE -2 (Verb VTI));
ADD:msyn-gen-vn-noun-with-article (&msyn-gen-vn-noun-with-article) TARGET (Adj) IF
	(-1 (Noun Com))
	(*-1 (Verbal Noun VTI) BARRIER (*) - Art OR (Prep Art) LINK -1 ("ag")) 		#LINK NEGATE -1 (Art Sg Def))
	(NEGATE 0 (Gen Sg))
	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
	(NEGATE -2 (Verb VTI));
COPY:msyn-gen-vn-noun-with-article (Gen Sg SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-vn-noun-with-article) TARGET (Com &msyn-gen-vn-noun-with-article);
COPY:msyn-gen-vn-noun-with-article (Adj SUGGEST) EXCEPT (&msyn-gen-vn-noun-with-article) TARGET (Com &msyn-gen-vn-noun-with-article);


##Nuair nach mbíonn an t-alt (na) i láthair, is iondúil gurb é an t-ainmneach a úsáidtear in áit an ghinidigh: ag lorg na litreach fada, le haghaidh na litreach fada ach ag lorg litir fhada, le haghaidh litir fhada.

## without article "ag scríobh litreach".
ADD:msyn-gen-vn-noun (&msyn-gen-vn-noun) TARGET (Noun Com) IF
	(*-1 (Verbal Noun VTI) BARRIER (*) - Art OR (Prep Art) LINK -1 ("ag"))
	(NEGATE 0 (Gen Sg))
	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
	(NEGATE -2 (Verb VTI));
COPY:msyn-gen-vn-noun (Gen Sg SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-vn-noun) TARGET (Com &msyn-gen-vn-noun);

ADD:msyn-gen-vn-noun (&msyn-gen-vn-noun) TARGET (Noun Fem Gen Weak Pl) IF
	(*-1 (Verbal Noun VTI) BARRIER (*) - Art OR (Prep Art) LINK -1 ("ag"))
	(NEGATE 0 (Gen Sg))
	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
	(NEGATE -2 (Verb VTI));
COPY:msyn-gen-vn-noun (Gen Sg SUGGEST) EXCEPT (Gen Weak Pl &msyn-gen-vn-noun) TARGET (Noun Fem Gen Weak Pl &msyn-gen-vn-noun);

ADD:msyn-gen-vn-noun (&msyn-gen-vn-noun) TARGET (Noun Masc Gen Sg hPref) IF
	(*-1 (Verbal Noun VTI) BARRIER (*) - Art OR (Prep Art) LINK -1 ("ag"))
	(NEGATE 0 (Gen Sg))
	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
	(NEGATE -2 (Verb VTI));
COPY:msyn-gen-vn-noun (Gen Pl SUGGEST) EXCEPT (Weak Pl &msyn-gen-vn-noun) AFTER Masc TARGET (Masc Gen Weak Pl &msyn-gen-vn-noun);

ADD:msyn-gen-vn-noun (&msyn-gen-vn-noun) TARGET (Noun Gen Weak Pl) - Ecl - DefArt IF
	(*-1 (Noun Com) BARRIER (*) - Art OR (Prep Art) LINK -1 ("ag"))
	(NEGATE 0 (Gen Sg))
	(NEGATE 0 Prop LINK *-1 (Art Def) BARRIER (*) - Noun - Adj)
	(NEGATE -2 (Verb VTI));
COPY:msyn-gen-vn-noun (Gen Pl SUGGEST) EXCEPT (Weak Pl &msyn-gen-vn-noun) AFTER Masc TARGET (Masc Gen Weak Pl &msyn-gen-vn-noun);

COPY:msyn-gen-noun-defart-noun (Gen Sg DefArt SUGGEST) EXCEPT (Com Sg &msyn-gen-noun-defart-noun) TARGET (Com Sg &msyn-gen-noun-defart-noun) IF (-1 (Art Def))(NEGATE 0 DefArt);

COPY:msyn-gen-noun-defart-noun (Gen Weak Pl DefArt SUGGEST) EXCEPT (Gen Sg hPref &msyn-gen-noun-defart-noun) AFTER Masc TARGET (Masc Gen Sg hPref &msyn-gen-noun-defart-noun)(NEGATE 0 DefArt);
	## Chuaigh na saighdiúirí isteach i mbialann na hoifigigh.
        #$ Chuaigh na saighdiúirí isteach i mbialann na n-oifigeach.

## Rules to correct nouns after "chun" to genitive case nouns.

ADD:msyn-gen-chun-noun (&msyn-gen-chun-noun) TARGET (Noun Com Sg) IF
	(-1 ("chun" Prep Simp))
	(NEGATE 0 (Gen Weak Pl))
	(NEGATE 0 (Verbal Noun) OR (Verbal Noun VTI))
	(NEGATE 0 (Verb));
COPY:msyn-gen-chun-noun (Gen Sg SUGGEST) EXCEPT (Com Sg &msyn-gen-chun-noun) TARGET (&msyn-gen-chun-noun) ;


ADD:msyn-gen-chun-defart-noun (&msyn-gen-chun-defart-noun) TARGET (Noun Com Sg) IF # DefArt) OR (Noun Fem Com Sg) IF
	(-2 ("chun" Prep Simp))
	(-1 (Art Def))
	(NEGATE 0 (Gen Sg));
COPY:msyn-gen-chun-defart-noun (Gen Sg DefArt SUGGEST) EXCEPT (Com Sg DefArt &msyn-gen-chun-defart-noun) TARGET (&msyn-gen-chun-defart-noun);


ADD:msyn-gen-chun-defart-noun (&msyn-gen-chun-defart-noun) TARGET ("an" Art Sg Def) IF
	(-1 ("chun" Prep Simp))
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-chun-defart-noun));
COPY:msyn-gen-chun-defart-noun ("na" Gen Sg Def Fem SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-chun-defart-noun) TARGET (Art &msyn-gen-chun-defart-noun) IF (1 (Noun Fem));
COPY:msyn-gen-chun-defart-noun ("na" Gen Sg Def Masc SUGGEST) EXCEPT ("an" Sg Def &msyn-gen-chun-defart-noun) TARGET (Art &msyn-gen-chun-defart-noun) IF (1 (Noun Masc));


# Plural:  Chun Art.com N.pl.com ==> N.com Art.gen N.pl.gen # Noun Masc Com Pl DefArt
ADD:msyn-gen-chun-defart-noun (&msyn-gen-chun-defart-noun) TARGET (Noun Masc Com Pl DefArt) IF
	(-2 ("chun" Prep Simp))
	(-1 (Art Def))
	(NEGATE 0 (Gen Pl))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-chun-defart-noun (Masc Gen Weak Pl DefArt SUGGEST) EXCEPT (Masc Com Pl DefArt &msyn-gen-chun-defart-noun) TARGET (&msyn-gen-chun-defart-noun);

ADD:msyn-gen-chun-defart-noun (&msyn-gen-chun-defart-noun) TARGET (Noun Fem Com Pl DefArt) IF
	(-2 ("chun" Prep Simp))
	(-1 (Art Def))
	(NEGATE 0 (Gen Pl))
	(NEGATE -3 (Verb VTI));
COPY:msyn-gen-chun-defart-noun (Fem Gen Weak Pl DefArt SUGGEST) EXCEPT (Fem Com Pl DefArt &msyn-gen-chun-defart-noun) TARGET (&msyn-gen-chun-defart-noun);


# The article
ADD:msyn-gen-chun-defart-noun (&msyn-gen-chun-defart-noun) TARGET ("an" Art Pl Def) IF
	(-1 ("chun" Prep Simp))
	(NEGATE 0 Gen)
	(1 (Noun &msyn-gen-noun-defart-noun));
COPY:msyn-gen-chun-defart-noun ("na" Gen Pl Def Fem SUGGEST) EXCEPT ("an" Pl Def &msyn-gen-chun-defart-noun) TARGET (Art &msyn-gen-chun-defart-noun) IF (1 (Noun Fem));
COPY:msyn-gen-chun-defart-noun ("na" Gen Pl Def Masc SUGGEST) EXCEPT ("an" Pl Def &msyn-gen-chun-defart-noun) TARGET (Art &msyn-gen-chun-defart-noun) IF (1 (Noun Masc));

# Addrelation for singular and plural
ADDRELATION ($2 LEFT) (&msyn-gen-chun-defart-noun) TO (-1 (Art &msyn-gen-chun-defart-noun));
SUBSTITUTE (&msyn-gen-chun-defart-noun) (co&msyn-gen-chun-defart-noun) TARGET (SUGGEST);

#!! ## Definiteness errors in nouns, e.g., an asal > an t-asal, an bean > an bhean, an sráid > an tsráid.

ADD:msyn-noun-defart (&msyn-noun-defart) TARGET (Noun Sg) IF
	(NEGATE -2 Noun)
	(-1 ("an" Art Sg Def))(NEGATE 0 DefArt)
	(NEGATE 0 ("<[dntl].*>"r) OR ("<s[^r].*>"r) OR ("<sr.*>"r) + Masc);
COPY:msyn-noun-defart (DefArt SUGGEST) EXCEPT (&msyn-noun-defart) TARGET (&msyn-noun-defart);
ADDRELATION:msyn-noun-defart ($2) Art + Def FROM (1 Noun LINK 0 &msyn-noun-defart);

	## An bean. - incorrect
	#$ An bhean. - correct
	## An sráid. - incorrect
	#$ An tsráid. - correct
	## an asal. - incorrect
	#$ an t-asal. - correct


ADD:spell-it-all (&typo SUGGESTWF) (<spelled>) ;
ADD:spell-conservatively (&typo SUGGESTWF) (<spelled>) IF (NEGATE -1 QMARK LINK 2 QMARK);

#!! ### A simple grammar checker rule without suggestions: Ensure preceding nominal agrees with the verb

#ADD:err-agr (&err-agr) TARGET Verb IF (-1C Sg + Nom) (0 V) (NOT 0 Sg3);
#ADD:err-agr (&err-agr) TARGET Verb IF (-1C Pron + Sg1 + Nom) (0 V) (NOT 0 Sg1);
#ADD:err-agr (&err-agr) TARGET Verb IF (-1C Pron + Sg2 + Nom) (0 V) (NOT 0 Sg2);
#ADD:err-agr (&err-agr) TARGET Verb IF (-1C Pron + Pl1 + Nom) (0 V) (NOT 0 Pl1);
#ADD:err-agr (&err-agr) TARGET Verb IF (-1C Pron + Pl2 + Nom) (0 V) (NOT 0 Pl2);

# And one with a suggestion where we simply change the tag Sg into Attr:

ADD:attr-not-pred (&attr-not-pred) TARGET (A Sg) IF (NOT 0 Attr OR Gen) (1 CC LINK *1 COMMON-N) ;
COPY:attr-not-pred (Attr SUGGEST) EXCEPT (Sg) TARGET (&attr-not-pred) ;

# The method is: Add SUGGEST to a copied reading to *generate* a suggestion form from that reading. The copy should contain the error tag too – &-prefixed error tags are ignored when generating, but used to create human-readable messages.

ADD:syn-not-initial (&syn-not-initial) TARGET ("áfach") IF (-1 BOS);

#!! **ADD:use-guillemets**: Simple punctuation rules showing how to change the lemma in the suggestions:

ADD:use-guillemets (&use-guillemets) TARGET ("""); #"
COPY:left-guillemet ("«" SUGGEST) EXCEPT (""") TARGET (&use-guillemets) ;
COPY:right-guillemet ("»" SUGGEST) EXCEPT (""") TARGET (&use-guillemets) ;

#!! **ADD:use-ellipsis**

ADD:use-ellipsis (&ellipsis) TARGET ("..." Punct Fin);
COPY:use-ellipsis ("…" Punct Int SUGGEST) EXCEPT ("..." Punct Fin) TARGET (&ellipsis) ;

#!! **ADD:use-ie.i.** ...

ADD:use-ie.i. (&ie.i.) TARGET ("i.e." Abr);
COPY:use-ie.i. (".i." A"br" SUGGEST) EXCEPT ("i.e." Abr)  TARGET (&ie.i.) ;

LIST <fixedcase> = <fixedcase>;

ADD <fixedcase> TARGET ("<Eoraip>") ;

	# syntax rules (word order, insertion, etc.)

#!! ###  A RULE TO INSERT THE PARTICLE A BEFORE A VERB RELATIVE PHRASE !!IT WORKS!!

ADD:syn-a-before-verb-relativephrase (&syn-a-before-verb-relativephrase) TARGET (Verb Len) OR (Verb PastInd Auto) IF (-1 Noun)(-2 Art);
ADDCOHORT  ("<a>" "a" Part Vb Rel Direct ADDED-BEFORE-BLANK &syn-a-before-verb-relativephrase) BEFORE &syn-a-before-verb-relativephrase (NEGATE 0 ADDED OR ADDED-BEFORE-BLANK);
ADDRELATION ($2 LEFT) (Verb &syn-a-before-verb-relativephrase) TO (-1 ADDED) ;

	## An méid {dhéanann}¥{missing|a dhéanann} an tÚdarás
	## An ceol sheinneann sé gach lá agus é i mbun oibre.
	#$ An ceol a sheinneann sé gach lá agus é i mbun oibre.
	## An obair rinne an bainisteoir.
	#$ An obair a rinne an bainisteoir.
	## An obair críochnaíodh inné.
	#$ An obair a críochnaíodh inné.
	## Sin an cleas céanna a d'imir sé orm.
	## Tá sé ar intinn aici é sin a {dhéanamh}.
	## Sin an obair a {chríochnófar} amárach


ADD:lex-ar-an-aonach (&lex-ar-an-aonach) TARGET ("ag" Prep) IF (NOT 0 ("ar" Prep))(*-1 ("an aonach") BARRIER (*) - (Noun Com)) ;
COPY:lex-ar-an-aonach ("ar" SUGGEST) EXCEPT ("ag" &lex-ar-an-aonach) TARGET (&lex-ar-an-aonach);

	## Ag an aonach. - incorrect ("ag" at)
	#$ Ar an aonach. - correct ("ar" on)

#!! **ADD:lex-ar-an-aonach**: A rule to correct the error "ag an aonach" to the correct form "ar an aonach".

ADD:lex-ar-an-aonach (&lex-ar-an-aonach) TARGET ("ag" Prep Simp) IF (*2 ("aonach")) ;
COPY:lex-ar-an-aonach ("ar" Prep Simp SUGGEST) EXCEPT ("ag" Prep Simp) TARGET (&lex-ar-an-aonach) ;
ADDCOHORT:lex-ar-an-aonach ("<an>" "an" Art Sg Def ADDED-BEFORE-BLANK &lex-ar-an-aonach) AFTER &lex-ar-an-aonach (NEGATE 0 ADDED OR ADDED-BEFORE-BLANK); ####THIS CAUSES CHAOS AND STOPS THE TERMINAL!!!###
ADDRELATION:lex-ar-an-aonach ($2 RIGHT) (Verb &lex-ar-an-aonach) TO (1 (ADDED-BEFORE-BLANK)) ;

#!! **ADD:lex-ar-a-haon-a-chlog** ...

ADD:lex-ar-a-haon-a-chlog (&lex-ar-a-haon-a-chlog) TARGET ("ag" Prep) IF (NOT 0 ("ar" Prep Simp))(*-1 ("a haon a chlog") BARRIER (*) - (Noun Com)) ;
COPY:lex-a-haon-a-chlog ("ar" SUGGEST) EXCEPT ("ag" &lex-a-haon-a-chlog) TARGET (&lex-a-haon-a-chlog);
	## Ag a haon a chlog. - incorrect ("ag" at)
	#$ Ar a haon a chlog. - correct ("ar" on)

#!! **ADD:lex-ar-an-tae**: This rule is for when people put milk in tea. In Irish, the correct way toy it is that milk is put on tea.
	#$ Bainne a chur ar an tae.				CORRECT
	#$ Bainne a chur ar do chuid tae.			CORRECT
	## Bainne a chur sa tae.				INCORRECT
	## Bainne a chur i mo/do/a/ár/bhur/a thae/tae/dtae. 	INCORRECT
	## An gcuireann tú bainne i do thae? - Do you put milk in your tea? INCORRECT
	#$ An gcuireann tú bainne ar do thae? - Do you put milk on your tea? CORRECT
	## Ar mhaith leat bainne i dtae do mhic? - Would you like milk in your son's tea? INCORRECT

LIST CAIFE = "caife" "tae" "gcaife" "chaife" "dtae";

ADD:lex-ar-an-tae (&lex-ar-an-tae) TARGET ("i" Prep Art Sg) IF (*1 CAIFE BARRIER (*) - (Det Poss)) ;
ADD:lex-ar-an-tae (&lex-ar-an-tae) TARGET ("i" Prep Art Sg) IF (1 (Det Poss) LINK *1 CAIFE BARRIER (*) - (Det Poss)) ;
COPY:lex-ar-an-tae ("ar" Prep Simp SUGGEST) EXCEPT ("i" Prep Art Sg) TARGET (Art Sg &lex-ar-an-tae) ;

#ADD:lex-ar-an-tae (&lex-ar-an-tae) TARGET ("i" Prep Simp) IF (*1 CAIFE BARRIER (*) - (Det Poss)) ;
#COPY:lex-ar-an-tae ("ar" Prep Simp SUGGEST) EXCEPT ("i" Prep Simp) TARGET (Simp &lex-ar-an-tae) ;

ADDCOHORT:lex-ar-an-tae ("<an>" "an" Art Sg Def ADDED-BEFORE-BLANK &lex-ar-an-tae) AFTER &lex-ar-an-tae (NEGATE 0 ADDED OR ADDED-BEFORE-BLANK) (NEGATE 1 (Det Poss));
ADDRELATION:lex-ar-an-tae ($2 RIGHT) (Verb &lex-ar-an-tae) TO (1 (ADDED-BEFORE-BLANK)) ;


#!! This rule is for when people put milk in coffee. In Irish, the correct way to say it is that milk is put on coffee. At is stands, the rule works for Ulaidh Irish. It needs to be changed to work for standard Irish.

	#$ Bainne a chur ar an gcaife.	CORRECT
	#$ Cuir bainne ar an gcaife.	CORRECT
	#$ Bainne a chur ar do chaife.   CORRECT
	## Bainne a chur sa chaife. 	INCORRECT

#!! **ADD:lex-ar-an-gcaife** ...


ADD:lex-ar-an-gcaife (&lex-ar-an-gcaife) TARGET ("i" Prep Art Sg) IF (1 CAIFE + (Noun Masc Gen Sg DefArt)) ;
COPY:lex-ar-an-gcaife ("ar" Prep Simp SUGGEST) EXCEPT ("i" Prep Art Sg) TARGET (&lex-ar-an-gcaife) ;
ADDCOHORT:lex-ar-an-gcaife ("<an>" "an" ADDED-BEFORE-BLANK &lex-ar-an-gcaife) AFTER &lex-ar-an-gcaife (NEGATE 0 ADDED OR ADDED-BEFORE-BLANK);
ADDRELATION:lex-ar-an-gcaife ($2 RIGHT) (Verb &lex-ar-an-gcaife) TO (1 (ADDED-BEFORE-BLANK)) ;


#!! **ADD:faoi an - faoin **: A rule to correct the error "faoi an" to the correct form "faoin".

LIST PREPART = "faoi" "ó" "de" "do" ;

ADD:msyn-prepart-prep (&msyn-prepart-prep) TARGET PREPART IF
	(0 (Prep Simp))
	(1 ("an" Art Sg Def) LINK NOT 0 ("<a>"));
ADD:msyn-prepart-prep (&msyn-prepart-prep) TARGET (Art Sg Def) IF
	(-1 (Prep &msyn-prepart-prep));

	## Tá an mála faoi an bord INCORRECT
	#$ Tá an mála faoin mbord CORRECT

ADDRELATION (DELETE1) (Prep &msyn-prepart-prep) TO (1 (Art &msyn-prepart-prep));

COPY:msyn-prepart-prep (Art Sg SUGGEST) EXCEPT (Simp) TARGET (Prep &msyn-prepart-prep);


#!! Rules to insert an h after the negative copula "ní" and certain prepositions

ADD:msyn-hPref-after-copula (&msyn-hPref-after-copula) TARGET (Pron Pers) OR (Adj Base) IF
	(-1 (Cop Pres Neg) OR (Cop Pro Q))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);
COPY:msyn-hPref-after-copula (hPref SUGGEST) EXCEPT (&msyn-hPref-after-copula) TARGET (Pron Pers &msyn-hPref-after-copula);

COPY:msyn-hPref-after-copula (hPref SUGGEST) EXCEPT (&msyn-hPref-after-copula) TARGET (Adj &msyn-hPref-after-copula);

##This rule is for adding the h prefix to imperative verbs that begin with a vowel after ná (Part Vb Neg Imp) [negative verbal particle used with imperative (Prefixes h to vowel)], e.g., "ná habair é", "ná hoscail", etc.

ADD:msyn-hPref-after-neg-imp (&msyn-hPref-after-neg-imp) TARGET (Verb Imper) IF
	(-1 ("Ná") OR ("ná"))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 (Verb VTI Vow PastInd Neg Len))
	(NOT 0 Ecl OR ECL-NON-ECL-N);
COPY:msyn-hPref-after-neg-imp (Sg Neg SUGGEST) EXCEPT (Sg &msyn-hPref-after-neg-imp) TARGET (&msyn-hPref-after-neg-imp);


	## Bhí cion go áirithe ar an bpréachán aige.
	#$ Bhí cion go háirithe ar an bpréachán aige.
	## Níl an t-am agam le aghaidh é seo.
	#$ Níl an t-am agam le haghaidh é seo.

ADD:msyn-hPref-after-na (&msyn-hPref-after-na) TARGET (Noun Com Pl) IF
	(-1 (Art Pl Def))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

COPY:msyn-hPref-after-na (hPref SUGGEST) EXCEPT (&msyn-hPref-after-na) TARGET (Noun &msyn-hPref-after-na);

ADD:msyn-hPref-after-sna (&msyn-hPref-after-sna) TARGET (Noun Com Pl) IF
	(-1 ("i" Prep Art Pl))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

COPY:msyn-hPref-after-sna (hPref SUGGEST) EXCEPT (&msyn-hPref-after-sna) TARGET (Noun &msyn-hPref-after-sna);

ADD:msyn-hPref-after-prep (&msyn-hPref-after-prep) TARGET (Noun Com) OR (Noun Gen) + <ComGen> OR (Adj Base) IF
	(-1 ("chomh"))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

ADD:msyn-hPref-after-prep (&msyn-hPref-after-prep) TARGET (Noun Com) OR (Noun Gen) + <ComGen> OR (Adj Base) IF
	(-1 ("go"))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

ADD:msyn-hPref-after-prep (&msyn-hPref-after-prep) TARGET (Noun Com) OR (Noun Gen) + <ComGen> OR (Adj Base) IF
	(-1 ("le"))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

ADD:msyn-hPref-after-prep (&msyn-hPref-after-prep) TARGET (Noun Com) OR (Noun Gen) + <ComGen> IF
	(-1 ("cá"))
	(0 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

COPY:msyn-hPref-after-prep (hPref SUGGEST) EXCEPT (&msyn-hPref-after-prep) TARGET (Noun &msyn-hPref-after-prep);

COPY:msyn-hPref-after-prep (hPref SUGGEST) EXCEPT (&msyn-hPref-after-prep) TARGET (Adj &msyn-hPref-after-prep);


## A rule to insert lenition after Cop Past Ba cosúil -> Ba chosúil, ba bocht -> ba bhocht.

ADD:msyn-lenition-after-coppast (&msyn-lenition-after-coppast) TARGET (Adj Base) IF
	(-1 (Cop Past))
	(0 ("<[bcdfgmpst].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);
COPY:msyn-lenition-after-coppast (Len SUGGEST) EXCEPT (&msyn-lenition-after-coppast) TARGET (Adj &msyn-lenition-after-coppast);

##	A rule to eclipse nouns that begin with B, C, D, F, G, P, T after the preposition "i".

ADD:msyn-ecl-after-prep-i (&msyn-ecl-after-prep-i) TARGET (Noun Com) IF
	(-1 ("i" Prep Simp))
	(0 ("<[bcdfgptBCDFGPT].*>"r));
COPY:msyn-ecl-after-prep-i (Ecl SUGGEST) EXCEPT (&msyn-ecl-after-prep-i) TARGET (&msyn-ecl-after-prep-i);

## 	A rule to add the letter N to the preposition "i" when it is located before nouns beginning with a vowel. (Prep Simp Vow)

ADD:msyn-n-after-i-prep-vowel (&msyn-n-after-i-prep-vowel) TARGET ("i" Prep Simp) IF
	(1 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r) LINK NOT 0 ("<an>") OR (Det Poss 3P))
	(NOT 0 (Prep Simp Vow))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

	## Tá an leabhar i áit eile.
	#$ Tá an leabhar in áit eile.
	## Ní raibh siad i aghaidh an dlí.
	#$ Ní raibh siad in aghaidh an dlí.

COPY:msyn-n-after-i-prep-vowel (Vow SUGGEST) EXCEPT (&msyn-n-after-i-prep-vowel) TARGET (&msyn-n-after-i-prep-vowel);


## 	A rule to correct "i an" to "san" for nouns beginning with a vowel. (san lenites f)

ADD:msyn-san (&msyn-san) TARGET ("i" Prep Simp) IF
	(0 ("i" Prep Simp))
	(1 ("an" Art Sg Def) LINK NOT 0 ("<a>"))
	(2 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);
ADD:msyn-san (&msyn-san) TARGET (Art Sg Def) IF
	(-1 (Prep &msyn-san))
	(1 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(NOT 0 Ecl OR ECL-NON-ECL-N);

ADDRELATION (DELETE1) (Prep &msyn-san) TO (1 (Art &msyn-san));
COPY:msyn-san ("<san>" "i" Prep Art Sg SUGGEST) EXCEPT (Simp) TARGET (Prep &msyn-san);
COPY:msyn-san ("i" Prep Art Sg SA SUGGEST) EXCEPT (Simp) TARGET (Prep &msyn-san);

## 	A rule to correct "i an" to "sa" for nouns beginning with consonants (Sa lenites consonants b, c, g, m, p, and prefixes t to initial s of feminine noun).

ADD:msyn-sa (&msyn-sa) TARGET ("i" Prep Simp) IF
	(0 ("i" Prep Simp))
	(1 (Art Sg Def) LINK NOT 0 ("<a>"))
	(2 ("<[bcfgmpBCFGMP].*>"r));
ADD:msyn-sa (&msyn-sa) TARGET (Art Sg Def) IF
	(-1 (Prep &msyn-sa))
	(1 ("<[bcfgmpBCFGMP].*>"r));
ADDRELATION (DELETE1) (Prep &msyn-sa) TO (1 (Art &msyn-sa));
COPY:msyn-sa ("i" Prep Art Sg SA SUGGEST) EXCEPT (Prep Simp) TARGET (Prep &msyn-sa);


#!! **ADD:msyn-ecl-after-prep-sfem**: Eclipse after preposition ... (sfem?)

ADD:msyn-ecl-after-prep-sfem (&msyn-ecl-after-prep-sfem) TARGET (Noun Fem Com Sg) IF
	(NEGATE 0 Len)
        (-2 ART-LEN-PREP + (Prep Simp)) 			# two words to the left of the thing you TARGET is the word in LIST/SET ART-LEN-PREP and also has Prep and Simp tags
        (-1 Art) 						# One to the left of the thing you TARGET is Art
        (0 ("st.*"r) OR ("sr.*"r) OR ("se.*"r) OR ("sa.*"r) )
        (NOT 0 Ecl OR ECL-NON-ECL-N)  				# The thing you target 0 is NOT Ecl OR a word in the LIST/SET ECL-NON-ECL-N
        (0 ("<[bcfgpsBCFGPS].*>"r)) 				# the thing you TARGET itself if starting with the letters BCFGPS
        (NEGATE 0 ("<[s].*>"r) + Masc) ; 			# The rule dosn't target a masculine word starting with the letter S.
COPY:msyn-ecl-after-prep-sfem (DefArt SUGGEST) EXCEPT (&msyn-ecl-after-prep-sfem) OR (Ecl &msyn-ecl-after-prep-sfem) TARGET (&msyn-ecl-after-prep-sfem);

ADD:msyn-ce-plus-defart (&msyn-ce-plus-defart) TARGET ("cé") OR ("Cé") IF
	(0 ("cé"))
	(1 ("an" Art Sg Def) LINK NOT 0 ("<a>"));
ADD:msyn-ce-plus-defart (&msyn-ce-plus-defart) TARGET (Art Sg Def) IF (-1 ("cé"));

ADDRELATION (DELETE1) (Cop Pro Q &msyn-ce-plus-defart) TO (1 (Art &msyn-ce-plus-defart));
COPY:msyn-ce-plus-defart (Det Q Art Sg SUGGEST) EXCEPT (Cop Pro Q) TARGET (&msyn-ce-plus-defart);

##is deas an áit í -> is deas an áit é.

LIST &lex-an-áit-é = &lex-an-áit-é ;

ADD:lex-an-áit-é (&lex-an-áit-é) TARGET ("í" Pron Pers 3P Sg Fem) IF
	(-1 ("áit"))
	(-2 ("an" Art Sg Def) LINK NOT 0 ("<a>"));
COPY:lex-an-áit-é ("é" Pron Pers 3P Sg Masc SUGGEST) EXCEPT (Pron Pers 3P Sg Fem &lex-an-áit-é) TARGET (Pron Pers &lex-an-áit-é);

##uimhreacha

LIST &lex-3456 = &lex-3456 ;

LIST NUMBERS3456 = "trí" "ceathair" "cúig" "sé" ;

LIST NUMBERS78910 = "seacht" "ocht" "naoi" "deich" ;

ADD:lex-3456 (&lex-3456) TARGET ("bliain" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("bliain" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("seachtain" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("seachtain" Com Sg) IF (-1 NUMBERS78910); # IT DOES NOT WORK
COPY:lex-3456 (Com Pl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("ceann") IF (-1 NUMBERS3456)(NEGATE -1 ("trí" Prep Simp)); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("ceann" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("cloigeann") IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Pl SUGGEST) EXCEPT (Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("cloigeann" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("fiche" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("fiche" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);


ADD:lex-3456 (&lex-3456) TARGET ("pingin" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("pingin" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);


ADD:lex-3456 (&lex-3456) TARGET ("orlach" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("orlach" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);


ADD:lex-3456 (&lex-3456) TARGET ("fiche" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("fiche" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);


ADD:lex-3456 (&lex-3456) TARGET ("trian" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("trian" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);


ADD:lex-3456 (&lex-3456) TARGET ("troigh" Com Sg) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (Gen Sg SUGGEST) EXCEPT (Com &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("troigh" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Com Pl Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("uair" Com Sg Len) IF (-1 NUMBERS3456); # IT WORKS
COPY:lex-3456 (hPref SUGGEST) EXCEPT (Com Sg Len &lex-3456) TARGET (&lex-3456);

ADD:lex-3456 (&lex-3456) TARGET ("uair" Com Sg) IF (-1 NUMBERS78910); # IT WORKS
COPY:lex-3456 (Gen Sg Ecl SUGGEST) EXCEPT (Com Sg &lex-3456) TARGET (&lex-3456);

ADD:lex-bliana (&lex-chomh) TARGET ("bhliain" Adv Its) OR ("Comh" Adv Its) ;
COPY:lex-bliana ( SUGGEST) EXCEPT (*) TARGET (&lex-bliana) ;

## A rule to correct the error "comh" to "chomh".

ADD:lex-chomh (&lex-chomh) TARGET ("comh" Adv Its) OR ("Comh" Adv Its) ;
COPY:lex-chomh (Adv Its SUGGEST) EXCEPT ("comh" Adv Its) TARGET (&lex-chomh) ;

## We need a rule to fuse "mo" and vowels beginning with "fh", e.g., mo fhear becomes m'fhear, do fhear become d'fhear, do iníon becomes d'iníon, etc.

##Léim sé isteach san fharraige -> it should be léim sé AMACH san fharraige.
ADD:lex-amach-farraige (&lex-amach-farraige) TARGET (Adv Dir) IF
	(1 ("san" Prep Simp Sg))
	(2 ("fharraige" Fem Com Len)) ;
COPY:lex-amach-farraige ("amach" Adv Dir SUGGEST) EXCEPT ("isteach" Adv Dir) TARGET (&lex-amach-farraige);

##fear mór - fear mhór, fear móra, fear mhóra
##scoil bheag - scoil beag, scoil beaga, scoil bheaga
##scoileanna cáiliúla - scoileanna cáiliúil, scoileanna cháiliúil
## an fhir mhóir, na bhfear mór


ADD:lex-part-comparative-adj (&lex-part-comparative-adj) TARGET (Adj Base) IF
	(-1 ("níos"))
	(NEGATE 0 (Com Sg));
COPY:lex-part-comparative-adj (Comp SUGGEST) EXCEPT (Base &lex-part-comparative-adj) TARGET (&lex-part-comparative-adj);

ADD:lex-part-comparative-adj (&lex-part-comparative-adj) TARGET (Adj Base) IF
	(-1 ("is" Part Sup))
	(NEGATE -1 (Cop Pres Rel))
	(NEGATE -1 (Conj Coord NG))
	(NEGATE -1 (Cop Pres));
COPY:lex-part-comparative-adj (Comp SUGGEST) EXCEPT (Base &lex-part-comparative-adj) TARGET (&lex-part-comparative-adj);

LIST PREPLÁMH = "ag" "as" "ar" "de" "do" "faoi" "i" "ó";

ADD:msyn-prep-lámh (&msyn-prep-lámh) TARGET ("lámh" Com Sg) IF (-1 PREPLÁMH);
COPY:msyn-prep-lámh (Dat Sg SUGGEST) EXCEPT (Com Sg &msyn-prep-lámh) TARGET (&msyn-prep-lámh);

	## ag lámh
	#$ ag láimh
	## ar lámh
	#$ ar láimh
	## as lámh
	#$ as láimh
	## de lámh
	#$ de láimh
	## do lámh
	#$ do láimh
	## faoi lámh
	#$ faoi láimh
	## i lámh
	#$ i láimh
	## ó lámh go lámh
	## ó láimh go lámh

ADD:msyn-láimh-le (&msyn-láimh-le) TARGET ("lámh" Com Sg) IF (1 ("le" Prep Simp));
COPY:msyn-láimh-le (Dat Sg SUGGEST) EXCEPT (Com Sg &msyn-láimh-le) TARGET (&msyn-láimh-le);

ADD:msyn-cop-past-neg-vowel (&msyn-cop-past-neg-vowel) TARGET ("níor" Cop Past Neg) IF
	(1 ("<[áaéeíióoúu].*>"r) OR ("<[ÁAÉEÍIÓOÚU].*>"r))
	(1 ("<fh.*>"r) OR ("<Fh.*>"r));
COPY:msyn-cop-past-neg-vowel (Cop Past Neg VF SUGGEST) EXCEPT (Cop Past Neg &msyn-cop-past-neg-vowel) TARGET (&msyn-cop-past-neg-vowel);


# if we're not the first word of the sentence, use the case of the generator
# output

ADD:casefix (<fixedcase>) TARGET (SUGGEST) IF (NEGATE -1 BOS) ;

## an Uachtarán -> an tUachtarán


## A rule to correct the wrong article used with singular or plural, e.g., an scoileanna -> na scoileanna, na cailín -> an cailín.

ADD:lex-correct-art (&lex-correct-art) TARGET ("na" Art Pl Def) - NG IF (1 (Noun Sg))(NEGATE 0 Gen)(NEGATE 0 &msyn-prep-detposs);
COPY:lex-correct-art ("an" Art Sg Def SUGGEST) EXCEPT ("na" Art Pl Def &lex-correct-art) TARGET (Art &lex-correct-art);

ADD:lex-correct-art (&lex-correct-art) TARGET ("an" Art Sg Def) - NG IF (1 (Noun Pl))(NEGATE 0 Gen)(NEGATE 0 &msyn-prep-detposs);
COPY:lex-correct-art ("na" Art Pl Def SUGGEST) EXCEPT ("an" Art Sg Def &lex-correct-art) TARGET (Art &lex-correct-art);
	

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("an" Part Vb Q))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cathain" Adv Q Wh))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("ar" Part Vb Q Past))
	(NOT 0 Q)
	(NOT 0 ("ar" Prep Simp));
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("céard" Cop Pro Q))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);
	
ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cad" Cop Pro Q))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("nár" Part Vb NegQ))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cé" Pron Q))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cé" Cop Pro Q))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cé" Cop Q Art Sg))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("conas" Adv Q Wh))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cad" Cop Pro Q))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cé" Cop Pro Q Cop Vow))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cá" Adv Q Wh))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("is" Cop Past NegQ VF ))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cá" Adv Q Wh Past))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cá" Part Vb Q Past))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("." Punct Fin ) IF
	(*-1 BOS LINK 1 ("cén"))
	(NOT 0 Q);
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);

ADD:punct-question-mark &punct-question-mark TARGET ("áfach" Adv Gn) IF (*-1 BOS LINK 1 ("cén"));
COPY:punct-question-mark ("?" Punct Fin Q SUGGEST) EXCEPT ("." Punct Fin &punct-question-mark) TARGET (Punct Fin &punct-question-mark);



	
